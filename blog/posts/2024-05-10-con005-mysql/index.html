<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://example.com/blog/posts/2024-05-10-con005-mysql/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.20"><title>MySql - Data-Tell-Me</title><link rel=stylesheet href=../../../assets/stylesheets/main.66ac8b77.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Source Code Pro"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mysql class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=Data-Tell-Me class="md-header__button md-logo" aria-label=Data-Tell-Me data-md-component=logo> <img src=../../../img/peterpark_01.jpg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Data-Tell-Me </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> MySql </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=lime aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../statistics/R-Introduction_K/ class=md-tabs__link> Statistics </a> </li> <li class=md-tabs__item> <a href=../../../data/01_mkdocs/ class=md-tabs__link> Data Skill </a> </li> <li class=md-tabs__item> <a href=../../../bibledata/01_Ge/ class=md-tabs__link> Text Mining </a> </li> <li class=md-tabs__item> <a href=../../../shot/01_movipy/ class=md-tabs__link> Shot </a> </li> <li class=md-tabs__item> <a href=../../../quant/01_quant/ class=md-tabs__link> Quant </a> </li> <li class=md-tabs__item> <a href=../../ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Data-Tell-Me class="md-nav__button md-logo" aria-label=Data-Tell-Me data-md-component=logo> <img src=../../../img/peterpark_01.jpg alt=logo> </a> Data-Tell-Me </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Statistics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Statistics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../statistics/R-Introduction_K/ class=md-nav__link> <span class=md-ellipsis> R-Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../statistics/R-basics_K/ class=md-nav__link> <span class=md-ellipsis> R-basics </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Data Skill </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Data Skill </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data/01_mkdocs/ class=md-nav__link> <span class=md-ellipsis> mkdocs </span> </a> </li> <li class=md-nav__item> <a href=../../../data/02_Jupyter_nb_to_md/ class=md-nav__link> <span class=md-ellipsis> Jupyter_to_md </span> </a> </li> <li class=md-nav__item> <a href=../../../data/03_python_rmd/ class=md-nav__link> <span class=md-ellipsis> python_rmd </span> </a> </li> <li class=md-nav__item> <a href=../../../data/04_python_reticulate/ class=md-nav__link> <span class=md-ellipsis> python_reticulate </span> </a> </li> <li class=md-nav__item> <a href=../../../data/05_batch_script/ class=md-nav__link> <span class=md-ellipsis> batch script </span> </a> </li> <li class=md-nav__item> <a href=../../../data/06_Xaringan/ class=md-nav__link> <span class=md-ellipsis> Xaringan </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Text Mining </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Text Mining </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bibledata/01_Ge/ class=md-nav__link> <span class=md-ellipsis> 창세기 </span> </a> </li> <li class=md-nav__item> <a href=../../../bibledata/02_Ex/ class=md-nav__link> <span class=md-ellipsis> 출애굽기 </span> </a> </li> <li class=md-nav__item> <a href=../../../bibledata/03_Lev/ class=md-nav__link> <span class=md-ellipsis> 레위기 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Shot </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Shot </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../shot/01_movipy/ class=md-nav__link> <span class=md-ellipsis> movipy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Quant </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Quant </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../quant/01_quant/ class=md-nav__link> <span class=md-ellipsis> quant </span> </a> </li> <li class=md-nav__item> <a href=../../../quant/02_macroecon/ class=md-nav__link> <span class=md-ellipsis> macroecon </span> </a> </li> <li class=md-nav__item> <a href=../../../quant/03_stock/ class=md-nav__link> <span class=md-ellipsis> stock </span> </a> </li> <li class=md-nav__item> <a href=../../../quant/04_quant_book/ class=md-nav__link> <span class=md-ellipsis> quant_book </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=mysql>MySql</h1> <h2 id=_1>들어가며</h2> <p>MySQL은 자동화 프로그램 만들기에서 매우 중요한 역할을 합니다.</p> <p>통계 분석 자동화, 퀀트 분석 자동화 등에서는 꼭 필요한 부분인 것입니다.</p> <p>여기서는 기초적인 MySQL 문법을 다루도록 하겠습니다.</p> <h2 id=mysql_1>MySql은?</h2> <p>MySQL은 관계형 데이터베이스 관리 시스템(RDBMS) 중 하나로, 오픈 소스이며 무료로 사용할 수 있습니다. </p> <p>MySQL은 사용자가 데이터베이스에 데이터를 저장, 검색, 수정 및 삭제할 수 있도록 허용하는 소프트웨어입니다. </p> <p>이 데이터베이스 시스템은 다양한 운영 체제에서 실행될 수 있으며, 다양한 프로그래밍 언어와 함께 사용할 수 있습니다. </p> <p>MySQL은 웹 애플리케이션, 비즈니스 애플리케이션, 모바일 애플리케이션 등 다양한 종류의 소프트웨어에서 데이터를 관리하는 데 널리 사용됩니다. </p> <p>MySQL은 안정성, 성능 및 확장성을 갖추고 있어서 대규모의 데이터베이스 환경에서도 효과적으로 사용됩니다.</p> <p><strong>MySQL의 장점</strong></p> <ul> <li> <p>오픈 소스 및 무료: MySQL은 오픈 소스이며 무료로 사용할 수 있습니다. 이는 비용을 절감하고 소프트웨어를 라이선스로부터 자유롭게 사용할 수 있게 합니다.</p> </li> <li> <p>큰 커뮤니티 및 지원: MySQL은 매우 큰 커뮤니티와 다양한 지원 및 문서화를 제공합니다. 이는 사용자가 문제를 해결하고 필요한 정보를 얻을 수 있도록 도와줍니다.</p> </li> <li> <p>높은 성능: MySQL은 높은 처리량과 낮은 지연 시간을 제공하여 대규모 데이터베이스 작업에 적합합니다. 효율적인 쿼리 실행 및 데이터 인덱싱 기능은 성능을 향상시킵니다.</p> </li> <li> <p>다양한 플랫폼 지원: MySQL은 다양한 운영 체제에서 실행될 수 있으며, 다양한 프로그래밍 언어와 함께 사용할 수 있습니다. 이는 다양한 환경에서 유연한 사용을 가능하게 합니다.</p> </li> <li> <p>확장성: MySQL은 수평 및 수직 확장을 지원하여 사용자가 데이터베이스를 쉽게 확장할 수 있습니다. 이는 시스템의 요구 사항이 증가할 때 데이터베이스를 조정하고 확장할 수 있음을 의미합니다.</p> </li> <li> <p>보안: MySQL은 강력한 보안 기능을 제공하여 데이터의 무결성과 안전성을 보호합니다. 암호화, 접근 제어 및 인증 기능은 데이터베이스 보안을 강화합니다.</p> </li> </ul> <p>이러한 장점들은 MySQL을 널리 사용되는 데이터베이스 관리 시스템으로 만듭니다.</p> <h2 id=sql>Sql 문법</h2> <p><strong>SQL의 주요 구성 요소</strong></p> <p>SQL(Structured Query Language)은 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 관리하기 위해 사용되는 표준화된 언어입니다. SQL은 데이터베이스에서 데이터를 쿼리하고 조작하며, 데이터베이스 객체를 정의하고 제어하는 데 사용됩니다. 다음은 SQL의 주요 구성 요소와 기본 문법에 대한 설명입니다:</p> <ul> <li> <p>데이터베이스 및 테이블: SQL을 사용하여 데이터를 저장하는 곳은 데이터베이스입니다. 데이터베이스는 하나 이상의 테이블로 구성되며, 각 테이블은 특정 유형의 데이터를 저장합니다.</p> </li> <li> <p>데이터베이스 객체: SQL을 사용하여 데이터베이스 객체를 생성하고 관리할 수 있습니다. 이러한 객체에는 테이블, 뷰, 인덱스, 프로시저, 함수 등이 포함될 수 있습니다.</p> </li> <li> <p>쿼리: SQL을 사용하여 데이터베이스에서 데이터를 쿼리할 수 있습니다. SELECT 문을 사용하여 데이터를 선택하고 검색할 수 있습니다.</p> </li> <li> <p>데이터 조작: SQL을 사용하여 데이터를 삽입, 수정, 삭제할 수 있습니다. INSERT 문은 데이터를 삽입하고, UPDATE 문은 데이터를 수정하고, DELETE 문은 데이터를 삭제합니다.</p> </li> <li> <p>조건부 문: SQL을 사용하여 조건부 문을 작성할 수 있습니다. WHERE 절을 사용하여 조건을 지정하고 데이터를 필터링할 수 있습니다. 또한 IF 문, CASE 문 등을 사용하여 조건부 로직을 구현할 수 있습니다.</p> </li> <li> <p>정렬 및 그룹화: SQL을 사용하여 데이터를 정렬하고 그룹화할 수 있습니다. ORDER BY 절을 사용하여 데이터를 정렬하고, GROUP BY 절을 사용하여 데이터를 그룹화합니다.</p> </li> <li> <p>집계 함수: SQL을 사용하여 데이터에 대한 집계 함수를 적용할 수 있습니다. AVG, SUM, COUNT, MIN, MAX 등의 함수를 사용하여 데이터를 집계하고 분석할 수 있습니다.</p> </li> <li> <p>조인: SQL을 사용하여 둘 이상의 테이블을 결합할 수 있습니다. INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL OUTER JOIN 등의 조인 유형을 사용하여 데이터를 결합하고 조작할 수 있습니다.</p> </li> <li> <p>서브쿼리: SQL을 사용하여 하위 쿼리를 작성할 수 있습니다. 서브쿼리는 다른 쿼리의 결과에 대한 쿼리를 작성하는 데 사용됩니다.</p> </li> <li> <p>트랜잭션: SQL을 사용하여 트랜잭션을 제어할 수 있습니다. BEGIN TRANSACTION, COMMIT, ROLLBACK 등의 명령을 사용하여 데이터의 일관성과 무결성을 유지할 수 있습니다.</p> </li> </ul> <p>이러한 기본적인 SQL 구문을 이해하고 활용하여 데이터베이스를 효과적으로 관리하고 데이터를 조작할 수 있습니다.</p> <p><strong>데이터베이스 및 테이블 생성</strong></p> <ul> <li>데이터베이스와 테이블을 만드는 것은 SQL의 기본 작업 중 하나입니다. 다음은 데이터베이스와 테이블을 생성하는 SQL 문의 예시입니다.</li> </ul> <p>데이터베이스 생성: <div class=highlight><pre><span></span><code><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=n>my_database</span><span class=p>;</span>
</code></pre></div></p> <p>이 명령은 'my_database'라는 이름의 새 데이터베이스를 생성합니다.</p> <p>테이블 생성: <div class=highlight><pre><span></span><code><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=n>id</span><span class=w> </span><span class=nb>INT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span>
<span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span>
<span class=w>    </span><span class=n>age</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span>
<span class=w>    </span><span class=n>department</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
<span class=p>);</span>
</code></pre></div> 위의 명령은 'employees'라는 테이블을 생성합니다. 이 테이블은 다음과 같은 열을 가지고 있습니다:</p> <ul> <li>id: INT 데이터 유형으로, 주 키(primary key)로 지정되어 있습니다.</li> <li>name: VARCHAR(100) 데이터 유형으로, 최대 100자의 문자열을 저장할 수 있습니다.</li> <li>age: INT 데이터 유형으로, 정수형 데이터를 저장합니다.</li> <li> <p>department: VARCHAR(100) 데이터 유형으로, 최대 100자의 문자열을 저장할 수 있습니다.</p> </li> <li> <p>테이블 생성 명령에서 PRIMARY KEY 제약 조건은 'id' 열을 주 키(primary key)로 지정합니다. 주 키(primary key)는 각 행(row)을 고유하게 식별하는 역할을 합니다.</p> </li> </ul> <p>위의 SQL 문을 실행하면 데이터베이스에 'employees'라는 테이블이 생성됩니다. 이제 이 테이블에 데이터를 추가하거나 조회할 수 있습니다.</p> <p><strong>쿼리</strong> </p> <ul> <li> <p>데이터베이스에서 데이터를 조회하고 필요한 정보를 가져오는 작업을 쿼리(query)라고 합니다. SQL을 사용하여 데이터베이스에서 데이터를 쿼리하는 방법을 예를 들어 설명해 드리겠습니다.</p> </li> <li> <p>가령, 앞서 생성한'my_database' 데이터배이스 'employees' 테이블에서 모든 직원의 이름과 부서를 조회하는 쿼리는 다음과 같습니다:</p> </li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>department</span>
<span class=k>FROM</span><span class=w> </span><span class=n>my_database</span><span class=p>.</span><span class=n>employees</span><span class=p>;</span>
</code></pre></div> 이 쿼리는 'employees' 테이블에서 모든 행의 'name'과 'department' 열을 선택하여 반환합니다.</p> <ul> <li>특정 조건을 만족하는 데이터를 조회하기 위해서는 WHERE 절을 사용합니다. 예를 들어, 나이가 30 이상인 직원들의 이름과 나이를 조회하려면 다음과 같은 쿼리를 사용할 수 있습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>age</span>
<span class=k>FROM</span><span class=w> </span><span class=n>my_database</span><span class=p>.</span><span class=n>employees</span><span class=p>;</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>30</span><span class=p>;</span>
</code></pre></div> 이렇게 하면 'employees' 테이블에서 나이가 30 이상인 직원들의 이름과 나이를 선택하여 반환합니다.</p> <p><strong>데이터 조작</strong></p> <ul> <li> <p>데이터 조작은 SQL을 사용하여 데이터를 삽입, 수정, 삭제하는 작업을 말합니다. 각각의 작업에 대한 예시를 들어보겠습니다.</p> </li> <li> <p>데이터 삽입 (INSERT): 새로운 데이터를 데이터베이스에 추가하기 위해서는 INSERT 문을 사용합니다. 예를 들어, 'employees' 테이블에 새로운 직원 정보를 추가하는 쿼리는 다음과 같습니다:</p> </li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>department</span><span class=p>)</span>
<span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;John&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>35</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;HR&#39;</span><span class=p>);</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에 이름이 'John', 나이가 35세이고 부서가 'HR'인 새로운 직원 정보를 추가합니다.</p> <ul> <li>데이터 수정 (UPDATE): 기존의 데이터를 수정하려면 UPDATE 문을 사용합니다. 예를 들어, 'employees' 테이블에서 이름이 'John'인 직원의 나이를 36세로 수정하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>UPDATE</span><span class=w> </span><span class=n>employees</span>
<span class=k>SET</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>36</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;John&#39;</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에서 이름이 'John'인 직원의 나이를 36으로 수정합니다.</p> <ul> <li>데이터 삭제 (DELETE): 데이터베이스에서 특정 데이터를 삭제하려면 DELETE 문을 사용합니다. 예를 들어, 'employees' 테이블에서 이름이 'John'인 직원의 정보를 삭제하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;John&#39;</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에서 이름이 'John'인 직원의 정보를 모두 삭제합니다.</p> <ul> <li>이렇게 데이터 삽입, 수정, 삭제를 통해 데이터베이스의 내용을 변경할 수 있습니다.</li> </ul> <p><strong>조건부 문</strong></p> <ul> <li> <p>조건부 문(Conditional Statements)은 SQL을 사용하여 데이터베이스에서 조건에 따라 특정한 작업을 수행하는 것을 말합니다. 주로 WHERE 절을 사용하여 조건을 지정하며, 조건을 만족하는 행에 대해서만 작업이 수행됩니다. 여러 가지 조건부 문에 대한 예시를 살펴보겠습니다.</p> </li> <li> <p>SELECT 문에서의 조건부 문: 특정 조건을 만족하는 행만을 조회하기 위해 SELECT 문과 WHERE 절을 함께 사용합니다. 예를 들어, 'employees' 테이블에서 나이가 30세 이상인 직원들의 이름과 나이를 조회하는 쿼리는 다음과 같습니다:</p> </li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>age</span>
<span class=k>FROM</span><span class=w> </span><span class=n>my_database</span><span class=p>.</span><span class=n>employees</span><span class=p>;</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>30</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에서 나이가 30세 이상인 직원들의 이름과 나이를 조회합니다.</p> <ul> <li>UPDATE 문에서의 조건부 문: 특정 조건을 만족하는 행만을 수정하기 위해 UPDATE 문과 WHERE 절을 함께 사용합니다. 예를 들어, 'employees' 테이블에서 부서가 'HR'인 직원들의 나이를 모두 40세로 수정하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>UPDATE</span><span class=w> </span><span class=n>employees</span>
<span class=k>SET</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>40</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;HR&#39;</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에서 부서가 'HR'인 직원들의 나이를 모두 40세로 수정합니다.</p> <ul> <li>DELETE 문에서의 조건부 문: 특정 조건을 만족하는 행만을 삭제하기 위해 DELETE 문과 WHERE 절을 함께 사용합니다. 예를 들어, 'employees' 테이블에서 이름이 'John'이고 나이가 40세 이상인 직원들의 정보를 모두 삭제하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;John&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>40</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에서 이름이 'John'이고 나이가 40세 이상인 직원들의 정보를 모두 삭제합니다.</p> <ul> <li>조건부 문을 사용하면 데이터베이스에서 원하는 조건을 가진 행들을 선택하거나 수정하거나 삭제할 수 있습니다.</li> </ul> <p><strong>정렬 및 그룹화</strong></p> <p>정렬 및 그룹화는 데이터를 보다 효과적으로 분석하고 조회하기 위해 중요한 기능입니다. SQL을 사용하여 데이터를 정렬하고 그룹화하는 방법에 대한 예시를 아래에서 살펴보겠습니다.</p> <ul> <li>정렬(Sorting): 데이터를 특정 기준에 따라 정렬하려면 ORDER BY 절을 사용합니다. 예를 들어, 'employees' 테이블에서 나이를 기준으로 오름차순으로 정렬한 결과를 조회하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>age</span>
<span class=k>FROM</span><span class=w> </span><span class=n>my_database</span><span class=p>.</span><span class=n>employees</span><span class=p>;</span>
<span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=k>ASC</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'employees' 테이블에서 나이를 기준으로 오름차순으로 정렬한 결과를 조회합니다.</p> <ul> <li>그룹화(Grouping): 데이터를 특정 기준에 따라 그룹화하려면 GROUP BY 절을 사용합니다. 예를 들어, 'sales' 테이블에서 부서별로 매출을 합산하여 그룹화한 결과를 조회하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>department</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>sales_amount</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_sales</span>
<span class=k>FROM</span><span class=w> </span><span class=n>sales</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>department</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'sales' 테이블에서 부서별로 매출을 합산하여 그룹화한 결과를 조회합니다.</p> <ul> <li>정렬 및 그룹화 결합: 정렬된 데이터를 그룹화할 수도 있습니다. 예를 들어, 'sales' 테이블에서 부서별로 매출을 합산하되 매출이 높은 순서대로 정렬하여 조회하는 쿼리는 다음과 같습니다:</li> </ul> <p><div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>department</span><span class=p>,</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>sales_amount</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_sales</span>
<span class=k>FROM</span><span class=w> </span><span class=n>sales</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>department</span>
<span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>total_sales</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span>
</code></pre></div> 위의 쿼리는 'sales' 테이블에서 부서별로 매출을 합산하되 매출이 높은 순서대로 정렬하여 조회합니다.</p> <ul> <li>정렬 및 그룹화는 데이터를 분석하고 요약하는 데 매우 유용한 기능이며, SQL을 사용하여 데이터를 보다 효율적으로 다룰 수 있도록 도와줍니다.</li> </ul> <p><strong>집계 함수</strong></p> <ul> <li> <p>집계 함수는 데이터에 대한 통계적 요약 정보를 생성하는 데 사용됩니다. SQL에서는 여러 유용한 집계 함수가 제공됩니다. 이러한 함수들은 데이터베이스에서 데이터를 분석하고 요약하는 데 매우 유용합니다.</p> </li> <li> <p>여기 몇 가지 일반적인 집계 함수와 그 사용법에 대한 설명이 있습니다:</p> </li> <li> <p>COUNT(): 레코드의 수를 세는 함수입니다. 특정 열에 대해서만 카운트할 수도 있고 모든 레코드에 대해 카운트할 수도 있습니다.</p> </li> </ul> <p>예를 들어, 'employees' 테이블에서 전체 직원의 수를 세는 쿼리는 다음과 같습니다: <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_employees</span>
<span class=k>FROM</span><span class=w> </span><span class=n>my_database</span><span class=p>.</span><span class=n>employees</span><span class=p>;</span>
</code></pre></div></p> <ul> <li>SUM(): 특정 열의 합계를 계산하는 함수입니다. 숫자 데이터에 대해서만 유효합니다.</li> </ul> <p>예를 들어, 'sales' 테이블에서 전체 매출액을 계산하는 쿼리는 다음과 같습니다:</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=k>SUM</span><span class=p>(</span><span class=n>sales_amount</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>total_sales</span>
<span class=k>FROM</span><span class=w> </span><span class=n>sales</span><span class=p>;</span>
</code></pre></div> <ul> <li>AVG(): 특정 열의 평균을 계산하는 함수입니다. 숫자 데이터에 대해서만 유효합니다. 예를 들어, 'products' 테이블에서 모든 제품의 가격 평균을 계산하는 쿼리는 다음과 같습니다:</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>price</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>average_price</span>
<span class=k>FROM</span><span class=w> </span><span class=n>products</span><span class=p>;</span>
</code></pre></div> <ul> <li>MAX(): 특정 열의 최댓값을 찾는 함수입니다.</li> </ul> <p>예를 들어, 'employees' 테이블에서 최고 연령을 찾는 쿼리는 다음과 같습니다:</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=k>MAX</span><span class=p>(</span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>max_age</span>
<span class=k>FROM</span><span class=w> </span><span class=n>my_database</span><span class=p>.</span><span class=n>employees</span><span class=p>;</span>
<span class=o>``</span>

<span class=o>-</span><span class=w> </span><span class=k>MIN</span><span class=p>():</span><span class=w> </span><span class=err>특정</span><span class=w> </span><span class=err>열의</span><span class=w> </span><span class=err>최솟값을</span><span class=w> </span><span class=err>찾는</span><span class=w> </span><span class=err>함수입니다</span><span class=p>.</span>

<span class=err>예를</span><span class=w> </span><span class=err>들어</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;products&#39;</span><span class=w> </span><span class=err>테이블에서</span><span class=w> </span><span class=err>최저</span><span class=w> </span><span class=err>가격을</span><span class=w> </span><span class=err>찾는</span><span class=w> </span><span class=err>쿼리는</span><span class=w> </span><span class=err>다음과</span><span class=w> </span><span class=err>같습니다</span><span class=p>:</span>

<span class=o>```</span><span class=k>sql</span>

<span class=k>SELECT</span><span class=w> </span><span class=k>MIN</span><span class=p>(</span><span class=n>price</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>min_price</span>
<span class=k>FROM</span><span class=w> </span><span class=n>products</span><span class=p>;</span>
</code></pre></div> <ul> <li>이러한 집계 함수들을 사용하여 데이터베이스에서 데이터를 요약하고 분석할 수 있습니다. 이를 통해 데이터의 특성을 더 잘 이해하고 의사 결정에 도움이 되는 정보를 얻을 수 있습니다.</li> </ul> <p><strong>조인</strong></p> <ul> <li> <p>조인(Join)은 둘 이상의 테이블을 결합하여 하나의 결과 집합을 생성하는 데 사용됩니다. 주로 관련된 데이터를 가져오고 결합하여 새로운 데이터 세트를 만들 때 사용됩니다. 여러 종류의 조인이 있지만 가장 일반적인 조인 종류에 대해 설명하겠습니다.</p> </li> <li> <p>INNER JOIN: 두 개의 테이블에서 일치하는 행만 반환하는 조인입니다. INNER JOIN은 두 테이블 간에 일치하는 열(기본 키 또는 외래 키)을 기준으로 연결합니다.</p> </li> </ul> <p>예를 들어, 'orders' 테이블과 'customers' 테이블을 결합하여 고객 주문과 관련된 정보를 가져오는 INNER JOIN 쿼리는 다음과 같습니다:</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=o>*</span>
<span class=k>FROM</span><span class=w> </span><span class=n>orders</span>
<span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>customers</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span>
</code></pre></div> <ul> <li>LEFT JOIN: 왼쪽 테이블의 모든 행과 오른쪽 테이블의 일치하는 행을 반환하는 조인입니다. 일치하는 행이 없는 경우에도 왼쪽 테이블의 모든 행이 반환됩니다.</li> </ul> <p>예를 들어, 'orders' 테이블과 'customers' 테이블을 LEFT JOIN하여 모든 주문과 해당 고객 정보를 가져오는 쿼리는 다음과 같습니다:</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=o>*</span>
<span class=k>FROM</span><span class=w> </span><span class=n>orders</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>customers</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>customers</span><span class=p>.</span><span class=n>customer_id</span><span class=p>;</span>
</code></pre></div> <ul> <li> <p>RIGHT JOIN: 오른쪽 테이블의 모든 행과 왼쪽 테이블의 일치하는 행을 반환하는 조인입니다. LEFT JOIN의 반대입니다.</p> </li> <li> <p>FULL OUTER JOIN: 왼쪽 테이블과 오른쪽 테이블의 모든 행을 반환하는 조인입니다. 일치하는 행이 없는 경우에도 모든 행이 반환됩니다.</p> </li> </ul> <p>이러한 조인을 사용하여 데이터베이스에서 관련된 데이터를 효율적으로 결합하고 필요한 정보를 가져올 수 있습니다. 데이터베이스 설계와 쿼리 작성에서 조인은 매우 중요한 개념입니다.</p> <p><strong>서브쿼리</strong></p> <ul> <li>서브쿼리(Subquery)는 다른 SQL 쿼리 내부에 포함된 쿼리입니다. 주로 서브쿼리는 외부 쿼리의 조건에 따라 결과를 필터링하거나 서브쿼리의 결과를 기반으로 외부 쿼리의 조건을 설정하는 데 사용됩니다.</li> </ul> <p>예를 들어, 고객 주문이 있는지 확인하기 위해 주문 테이블에서 데이터를 가져오는 SELECT 문이 있습니다. 이 때 서브쿼리를 사용하여 고객이 주문을 한지 여부를 확인할 수 있습니다.</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>customer_id</span><span class=p>,</span><span class=w> </span>
<span class=w>       </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>orders</span><span class=p>.</span><span class=n>customer_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>customers</span><span class=p>.</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>order_count</span>
<span class=k>FROM</span><span class=w> </span><span class=n>customers</span><span class=p>;</span>
</code></pre></div> <p>위의 쿼리에서 서브쿼리 (SELECT COUNT(*) FROM orders WHERE orders.customer_id = customers.customer_id)는 customers 테이블의 각 고객에 대해 해당 고객의 주문 수를 계산합니다. 이 서브쿼리는 외부 쿼리의 각 행에 대해 실행되며, 결과는 order_count 열에 포함됩니다.</p> <ul> <li>서브쿼리는 다양한 형태로 사용될 수 있으며, 주로 SELECT, INSERT, UPDATE, DELETE 문에서 사용됩니다. 서브쿼리를 사용하면 복잡한 데이터 검색 및 조작 작업을 수행할 수 있으며, 데이터베이스의 유연성을 향상시킬 수 있습니다.</li> </ul> <p><strong>트랜잭션</strong></p> <p>트랜잭션(Transaction)은 데이터베이스에서 한 단위의 작업을 나타냅니다. 이러한 작업은 데이터베이스에 대한 일련의 쿼리로 구성될 수 있으며, 모든 작업은 완전하게 실행되거나 전혀 실행되지 않아야 합니다. 즉, 트랜잭션은 데이터베이스의 무결성을 유지하기 위해 필요합니다.</p> <p>트랜잭션은 다음과 같은 네 가지 특성을 가집니다.</p> <ul> <li> <p>원자성(Atomicity): 트랜잭션의 모든 작업은 하나의 원자 단위로 간주되어야 합니다. 즉, 모든 작업이 완료되거나 아무 것도 변경되지 않아야 합니다.</p> </li> <li> <p>일관성(Consistency): 트랜잭션이 실행 전과 후에 데이터베이스가 일관된 상태를 유지해야 합니다. 즉, 트랜잭션 내의 작업은 데이터베이스의 제약 조건을 위반해서는 안 됩니다.</p> </li> <li> <p>독립성(Isolation): 동시에 실행 중인 여러 트랜잭션은 서로 영향을 주지 않아야 합니다. 즉, 각 트랜잭션은 다른 트랜잭션의 작업에 대해 완전히 독립적으로 실행되어야 합니다.</p> </li> <li> <p>지속성(Durability): 트랜잭션이 완료되면 그 결과가 영구적으로 저장되어야 합니다. 즉, 시스템의 장애가 발생해도 트랜잭션이 성공적으로 완료된 상태는 유지되어야 합니다.</p> </li> </ul> <p>트랜잭션을 제어하기 위해 SQL에서는 다음과 같은 명령어를 사용합니다.</p> <ul> <li>BEGIN 또는 START TRANSACTION: 트랜잭션을 시작합니다.</li> <li>COMMIT: 트랜잭션의 모든 작업을 성공적으로 완료하고 데이터베이스에 반영합니다.</li> <li>ROLLBACK: 트랜잭션의 모든 작업을 취소하고 데이터베이스를 이전 상태로 되돌립니다.</li> <li>SAVEPOINT: 트랜잭션 내에서 부분적인 롤백을 지원하기 위해 지점을 설정합니다.</li> </ul> <p>예를 들어, 고객이 주문을 취소하는 작업을 트랜잭션으로 처리할 수 있습니다.</p> <div class=highlight><pre><span></span><code><span class=k>BEGIN</span><span class=p>;</span><span class=w> </span><span class=c1>-- 트랜잭션 시작</span>

<span class=k>UPDATE</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Cancelled&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>123</span><span class=p>;</span><span class=w> </span><span class=c1>-- 주문 상태 업데이트</span>

<span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>order_items</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>order_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>123</span><span class=p>;</span><span class=w> </span><span class=c1>-- 주문에 대한 상품 항목 삭제</span>

<span class=k>COMMIT</span><span class=p>;</span><span class=w> </span><span class=c1>-- 트랜잭션 완료 및 변경 내용 반영</span>
</code></pre></div> <p>위의 예에서, 모든 작업은 성공적으로 완료되면 COMMIT을 사용하여 데이터베이스에 영구적으로 반영됩니다. 그러나 어떤 이유로든 작업이 실패하면 ROLLBACK을 사용하여 이전 상태로 되돌릴 수 있습니다.</p> <p><strong>Sql에서의 데이터 정합성</strong></p> <p>SQL에서의 데이터 정합성(Data Integrity)은 데이터베이스에 저장된 데이터가 정확하고 일관된 상태를 유지하는 것을 의미합니다. 데이터 정합성은 데이터베이스의 신뢰성과 무결성을 보장하기 위해 중요합니다. 이를 위해 데이터베이스 시스템은 다양한 수준의 데이터 정합성을 제공합니다.</p> <ul> <li> <p>개체 무결성(Entity Integrity): 개체 무결성은 각 테이블의 기본 키(primary key)가 모두 고유하고 NULL이 아닌 값을 가져야 함을 보장합니다. 이는 테이블 내의 각 행이 식별 가능하고 중복되지 않음을 보장합니다.</p> </li> <li> <p>참조 무결성(Referential Integrity): 참조 무결성은 관계형 데이터베이스에서 관계를 유지하고 관련된 데이터가 일관되게 유지되도록 보장합니다. 외래 키(foreign key) 제약 조건을 사용하여 부모 테이블의 값이 자식 테이블에 존재하는지 확인하고 데이터의 무결성을 유지합니다.</p> </li> <li> <p>도메인 무결성(Domain Integrity): 도메인 무결성은 각 열이 허용된 데이터 유형과 형식을 준수하는지 확인합니다. 예를 들어, 숫자 열에 문자열을 삽입하거나 날짜 형식이 아닌 값을 날짜 열에 삽입하는 것을 방지합니다.</p> </li> <li> <p>연결 무결성(Connection Integrity): 연결 무결성은 여러 테이블 간의 관계가 일관되고 유효한지 확인합니다. 이는 데이터베이스에서 정확한 정보를 가져오고 유지하기 위해 필요합니다.</p> </li> <li> <p>사용자 정의 무결성(User-defined Integrity): 데이터베이스 사용자가 정의한 추가적인 무결성 규칙을 적용합니다. 이는 특정 비즈니스 규칙이나 제한 사항을 충족하기 위해 사용될 수 있습니다.</p> </li> </ul> <p>데이터 정합성을 유지하기 위해 데이터베이스 시스템은 제약 조건(constraints)을 사용하여 데이터의 무결성을 강화합니다. 이러한 제약 조건은 데이터베이스 설계 단계에서 정의되며, 데이터의 무결성을 보장하는 데 중요한 역할을 합니다.</p> <h2 id=mysql-python>MySql을 Python과 연동</h2> <ul> <li>Python에서 MySQL 데이터베이스를 사용하려면 일반적으로 PyMySQL이나 mysql-connector-python과 같은 MySQL 커넥터를 사용합니다. 아래는 간단한 예제 코드입니다.</li> </ul> <p>먼저, 필요한 패키지를 설치해야 합니다. PyMySQL을 설치하려면 다음 명령을 사용합니다.</p> <div class=highlight><pre><span></span><code>pip install pymysql
</code></pre></div> <p>또는 mysql-connector-python을 설치하려면 다음 명령을 사용합니다.</p> <div class=highlight><pre><span></span><code>pip install mysql-connector-python
</code></pre></div> <p>이제 Python 스크립트에서 MySQL 데이터베이스에 연결하고 데이터를 쿼리하는 방법은 아래와 같습니다.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>pymysql</span>

<span class=c1># MySQL 데이터베이스 연결 설정</span>
<span class=n>connection</span> <span class=o>=</span> <span class=n>pymysql</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span>
    <span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span>  <span class=c1># 호스트 이름</span>
    <span class=n>user</span><span class=o>=</span><span class=s1>&#39;username&#39;</span><span class=p>,</span>   <span class=c1># 사용자 이름</span>
    <span class=n>password</span><span class=o>=</span><span class=s1>&#39;password&#39;</span><span class=p>,</span>   <span class=c1># 비밀번호</span>
    <span class=n>database</span><span class=o>=</span><span class=s1>&#39;database_name&#39;</span>  <span class=c1># 데이터베이스 이름</span>
<span class=p>)</span>

<span class=k>try</span><span class=p>:</span>
    <span class=k>with</span> <span class=n>connection</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
        <span class=c1># SQL 쿼리 실행 예시</span>
        <span class=n>sql</span> <span class=o>=</span> <span class=s2>&quot;SELECT * FROM table_name&quot;</span>
        <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>

        <span class=c1># 결과 가져오기</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>result</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=n>row</span><span class=p>)</span>
<span class=k>finally</span><span class=p>:</span>
    <span class=c1># 연결 닫기</span>
    <span class=n>connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</code></pre></div> <p>위 코드에서 host, user, password, database를 실제 데이터베이스 정보로 바꿔주세요. 그리고 table_name은 존재하는 테이블의 이름으로 바꿔야 합니다.</p> <h2 id=_2>결어</h2> <p>지금까지 전반적인 MySQL에 관해서 살펴보았습니다.</p> <p>이제는 이러한 기초를 토대로하여 자동화프로그램을 제작하도록 하겠습니다.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2023 <a href=https://github.com/datatellme target=_blank rel=noopener>Data Tell Me</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.dd8806f2.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>