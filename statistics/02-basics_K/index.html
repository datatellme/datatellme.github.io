<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://example.com/statistics/02-basics_K/ rel=canonical><link href=../01-Introduction_K/ rel=prev><link href=../../data/01_mkdocs/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.3"><title>02-basics - Data-Tell-Me</title><link rel=stylesheet href=../../assets/stylesheets/main.6b71719e.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=purple> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Data-Tell-Me class="md-header__button md-logo" aria-label=Data-Tell-Me data-md-component=logo> <img src=../../img/peterpark_01.jpg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Data-Tell-Me </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 02-basics </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=lime aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../01-Introduction_K/ class="md-tabs__link md-tabs__link--active"> Statistics </a> </li> <li class=md-tabs__item> <a href=../../data/01_mkdocs/ class=md-tabs__link> Data </a> </li> <li class=md-tabs__item> <a href=../../bibledata/01_Ge/ class=md-tabs__link> Old_Testment </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Data-Tell-Me class="md-nav__button md-logo" aria-label=Data-Tell-Me data-md-component=logo> <img src=../../img/peterpark_01.jpg alt=logo> </a> Data-Tell-Me </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> About </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 tabindex=0 aria-expanded=true> Statistics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Statistics data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Statistics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../01-Introduction_K/ class=md-nav__link> 01-Introduction </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 02-basics <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 02-basics </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#rstudio class=md-nav__link> RStudio 첫 화면 </a> </li> <li class=md-nav__item> <a href=#r class=md-nav__link> R 코드 실행 </a> <nav class=md-nav aria-label="R 코드 실행"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#r_1 class=md-nav__link> R 스크립트 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 변수와 함수 </a> <nav class=md-nav aria-label="변수와 함수"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data class=md-nav__link> data 할당 </a> </li> <li class=md-nav__item> <a href=#whats-in-a-name class=md-nav__link> What’s in a name? </a> </li> <li class=md-nav__item> <a href=#vectors-and-data-frames class=md-nav__link> Vectors and data frames </a> </li> <li class=md-nav__item> <a href=#functions class=md-nav__link> Functions </a> </li> <li class=md-nav__item> <a href=#mathematical-operations class=md-nav__link> Mathematical operations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#descriptive-statistics class=md-nav__link> Descriptive statistics </a> <nav class=md-nav aria-label="Descriptive statistics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#numerical-data class=md-nav__link> Numerical data </a> </li> <li class=md-nav__item> <a href=#categorical-data class=md-nav__link> Categorical data </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plotting-numerical-data class=md-nav__link> Plotting numerical data </a> <nav class=md-nav aria-label="Plotting numerical data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#our-first-plot class=md-nav__link> Our first plot </a> </li> <li class=md-nav__item> <a href=#colours-shapes-and-axis-labels class=md-nav__link> Colours, shapes and axis labels </a> </li> <li class=md-nav__item> <a href=#axis-limits-and-scales class=md-nav__link> Axis limits and scales </a> </li> <li class=md-nav__item> <a href=#comparing-groups class=md-nav__link> Comparing groups </a> </li> <li class=md-nav__item> <a href=#boxplots class=md-nav__link> Boxplots </a> </li> <li class=md-nav__item> <a href=#histograms class=md-nav__link> Histograms </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plotting-categorical-data class=md-nav__link> Plotting categorical data </a> <nav class=md-nav aria-label="Plotting categorical data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bar-charts class=md-nav__link> Bar charts </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#saving-your-plot class=md-nav__link> Saving your plot </a> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 tabindex=0 aria-expanded=false> Data <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Data data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../data/01_mkdocs/ class=md-nav__link> mkdocs </a> </li> <li class=md-nav__item> <a href=../../data/02_Jupyter_nb_to_md/ class=md-nav__link> Jupyter_to_md </a> </li> <li class=md-nav__item> <a href=../../data/03_python_rmd/ class=md-nav__link> python_rmd </a> </li> <li class=md-nav__item> <a href=../../data/04_python_reticulate/ class=md-nav__link> python_reticulate </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 tabindex=0 aria-expanded=false> Old_Testment <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Old_Testment data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Old_Testment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../bibledata/01_Ge/ class=md-nav__link> 창세기 </a> </li> <li class=md-nav__item> <a href=../../bibledata/02_Ex/ class=md-nav__link> 출애굽기 </a> </li> <li class=md-nav__item> <a href=../../bibledata/03_Lev/ class=md-nav__link> 레위기 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=_1>기본</h1> <p>처음부터 시작합시다. 이 장은 R에 대한 소개 역할을 합니다. R 및 RStudio를 설치하고 사용하는 방법을 보여줍니다.</p> <p>이 2장을 학습하면 다음을 수행할 수 있습니다.</p> <div class=highlight><pre><span></span><code>- 재사용 가능한 R 스크립트 생성할 수 있습니다.
- 데이터를 R에 저장할 수있습니다/,
- R의 함수를 사용하여 데이터를 분석할 수 있습니다.
- R에 추가 기능을 추가하는 애드온 패키지 설치할 수 있습니다.
- 평균 및 중앙값과 같은 기술 통계를 계산수 있습니다.
- 수학적 계산을 수 있습니다.
- 산점도, 상자 그림, 히스토그램 및 막대 차트를 포함하여 보기 좋은 그림을
  만들 수 있습니다.
- 코드에서 오류를 찾을 수 있습니다.
</code></pre></div> <h2 id=rstudio>RStudio 첫 화면</h2> <p>RStudio를 시작하면 3개 또는 4개의 패널이 표시됩니다.</p> <p><img src=../../img/rstudio2.png alt="The four RStudio panels." width=50% style="display: block; margin: auto;"></p> <ol> <li>가져오고 생성한 데이터 목록을 찾을 수 있는 Environment 패널.</li> <li>사용 가능한 파일 목록을 볼 수 있는 Files, Plots 및 Help 패널은 생성한 그래프를 볼 수 있으며 R의 다른 부분에 대한 도움말 문서를 찾을 수 있습니다.</li> <li>코드 실행에 사용되는 Console 패널. 여기에서 처음 몇 가지 예부터 시작하겠습니다.</li> <li>코드 작성에 사용되는 Script 패널. 여기에서 작업하는 데 대부분의 시간을 보냅니다.</li> </ol> <p>R 코드가 포함된 파일을 열어 RStudio를 시작하면 Script 패널이 표시되고 그렇지 않으면 표시되지 않습니다. 이 시점에서 표시되지 않더라도 걱정하지 마세요. 곧 여는 방법을 배우게 될 것입니다.</p> <p>Console 패널에는 실행 중인 R 버전에 대한 정보를 보여주는 R 시작 메시지가 포함됩니다.[^1]:</p> <div class=highlight><pre><span></span><code><span class=n>R</span><span class=w> </span><span class=n>version</span><span class=w> </span><span class=m>4.1</span><span class=n>.</span><span class=m>0</span><span class=w> </span><span class=p>(</span><span class=m>2021-05-18</span><span class=p>)</span><span class=w> </span><span class=o>--</span><span class=w> </span><span class=s>&quot;Camp Pontanezen&quot;</span>
<span class=nf>Copyright </span><span class=p>(</span><span class=n>C</span><span class=p>)</span><span class=w> </span><span class=m>2021</span><span class=w> </span><span class=n>The</span><span class=w> </span><span class=n>R</span><span class=w> </span><span class=n>Foundation</span><span class=w> </span><span class=n>for</span><span class=w> </span><span class=n>Statistical</span><span class=w> </span><span class=n>Computing</span>
<span class=n>Platform</span><span class=o>:</span><span class=w> </span><span class=n>x86_64</span><span class=o>-</span><span class=n>pc</span><span class=o>-</span><span class=n>linux</span><span class=o>-</span><span class=nf>gnu </span><span class=p>(</span><span class=m>64</span><span class=o>-</span><span class=n>bit</span><span class=p>)</span>

<span class=n>R</span><span class=w> </span><span class=n>is</span><span class=w> </span><span class=n>free</span><span class=w> </span><span class=n>software</span><span class=w> </span><span class=n>and</span><span class=w> </span><span class=n>comes</span><span class=w> </span><span class=n>with</span><span class=w> </span><span class=n>ABSOLUTELY</span><span class=w> </span><span class=n>NO</span><span class=w> </span><span class=n>WARRANTY.</span>
<span class=n>You</span><span class=w> </span><span class=n>are</span><span class=w> </span><span class=n>welcome</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>redistribute</span><span class=w> </span><span class=n>it</span><span class=w> </span><span class=n>under</span><span class=w> </span><span class=n>certain</span><span class=w> </span><span class=n>conditions.</span>
<span class=n>Type</span><span class=w> </span><span class=s>&#39;license()&#39;</span><span class=w> </span><span class=n>or</span><span class=w> </span><span class=s>&#39;licence()&#39;</span><span class=w> </span><span class=n>for</span><span class=w> </span><span class=n>distribution</span><span class=w> </span><span class=n>details.</span>

<span class=w>  </span><span class=n>Natural</span><span class=w> </span><span class=n>language</span><span class=w> </span><span class=n>support</span><span class=w> </span><span class=n>but</span><span class=w> </span><span class=n>running</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=n>an</span><span class=w> </span><span class=n>English</span><span class=w> </span><span class=n>locale</span>

<span class=n>R</span><span class=w> </span><span class=n>is</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>collaborative</span><span class=w> </span><span class=n>project</span><span class=w> </span><span class=n>with</span><span class=w> </span><span class=n>many</span><span class=w> </span><span class=n>contributors.</span>
<span class=n>Type</span><span class=w> </span><span class=s>&#39;contributors()&#39;</span><span class=w> </span><span class=n>for</span><span class=w> </span><span class=n>more</span><span class=w> </span><span class=n>information</span><span class=w> </span><span class=n>and</span>
<span class=s>&#39;citation()&#39;</span><span class=w> </span><span class=n>on</span><span class=w> </span><span class=n>how</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>cite</span><span class=w> </span><span class=n>R</span><span class=w> </span><span class=n>or</span><span class=w> </span><span class=n>R</span><span class=w> </span><span class=n>packages</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=n>publications.</span>

<span class=n>Type</span><span class=w> </span><span class=s>&#39;demo()&#39;</span><span class=w> </span><span class=n>for</span><span class=w> </span><span class=n>some</span><span class=w> </span><span class=n>demos</span><span class=p>,</span><span class=w> </span><span class=s>&#39;help()&#39;</span><span class=w> </span><span class=n>for</span><span class=w> </span><span class=n>on</span><span class=o>-</span><span class=n>line</span><span class=w> </span><span class=n>help</span><span class=p>,</span><span class=w> </span><span class=n>or</span>
<span class=s>&#39;help.start()&#39;</span><span class=w> </span><span class=n>for</span><span class=w> </span><span class=n>an</span><span class=w> </span><span class=n>HTML</span><span class=w> </span><span class=n>browser</span><span class=w> </span><span class=n>interface</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>help.</span>
<span class=n>Type</span><span class=w> </span><span class=s>&#39;q()&#39;</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>quit</span><span class=w> </span><span class=n>R.</span>
</code></pre></div> <p>테두리를 클릭하고 드래그하거나 각 패널의 오른쪽 상단 모서리에 있는 최소화/최대화 버튼을 사용하여 원하는 대로 패널 크기를 조정할 수 있습니다.</p> <p>RStudio를 종료하면 작업 공간을 저장할지 여부를 묻는 메시지가 표시됩니다. 즉, 작업한 데이터가 저장되어 다음에 R을 실행할 때 사용할 수 있습니다. 좋은 생각처럼 들릴 수 있습니다. 그러나 일반적으로 작업 공간을 저장하지 않는 것이 좋습니다. 나중에 문제가 발생하는 경우가 많기 때문입니다. 거의 항상 다음 R 세션에서 작업한 코드를 다시 실행하는 것이 훨씬 더 나은 아이디어입니다.</p> <h2 id=r>R 코드 실행</h2> <p>R에서 수행하는 모든 작업은 code를 중심으로 이루어집니다. 코드에는 컴퓨터가 처리, 분석 및 조작하는 방법에 대한 지침이 포함됩니다. [^2] data. 따라서 각 코드 라인은 R에게 무언가를 하라고 지시합니다: 평균값을 계산하고, 플롯을 생성하고, 데이터 세트를 정렬하거나, 다른 것등을 지시합니다.</p> <p>텍스트 전반에 걸쳐 콘솔 패널에 붙여넣을 수 있는 코드 덩어리가 있습니다. 다음은 이러한 코드 청크의 첫 번째 예입니다. 콘솔에 코드를 입력하거나 복사하고 키보드에서 <span class=keys><kbd class=key-enter>Enter</kbd></span> 키를 누릅니다.</p> <div class=highlight><pre><span></span><code><span class=m>1+1</span>
</code></pre></div> <p>코드 청크에는 여러 줄이 포함되는 경우가 많습니다. 이 책의 디지털 버전에서 두 줄을 모두 선택하여 복사하고 동시에 콘솔에 직접 붙여넣을 수 있습니다.</p> <div class=highlight><pre><span></span><code><span class=m>2</span><span class=o>*</span><span class=m>2</span>
<span class=m>1+2</span><span class=o>*</span><span class=m>3-5</span>
</code></pre></div> <p>보시다시피 Console 패널에 코드를 입력하고 Enter 키를 누르면 R runs(또는 executes_)가 코드를 실행하고 응답을 반환합니다. 시작하려면 첫 번째 연습에서 계산을 수행하는 코드를 작성해야 합니다. <a href=#solutions>이 문제에 대한 솔루션과 다른 연습 문제는 책의 끝 부분 @ref(solutions)</a> 장에서 찾을 수 있습니다.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>R을 사용하여 처음 10개 정수의 곱을 계산합니다.: $1\cdot 2\cdot 3\cdot 4\cdot 5\cdot 6\cdot 7\cdot 8\cdot 9\cdot 10$.
</code></pre></div> <p><a href=#ch2bsolutions1></a></p> <h3 id=r_1>R 스크립트</h3> <p>콘솔 패널에서 작업할 때[^3] 키보드의 위쪽 화살표 ↑를 사용하여 이전에 사용한 코드 줄을 검색할 수 있습니다. 그러나 R 코드로 작업하는 훨씬 더 좋은 방법이 있습니다. script 파일에 넣는 것입니다. R 코드가 포함된 파일로 저장한 다음 원할 때마다 다시 실행할 수 있습니다.</p> <p>RStudio에서 새 스크립트 파일을 만들려면 키보드에서 <span class=keys><kbd class=key-control>Ctrl</kbd><span>+</span><kbd class=key-shift>Shift</kbd><span>+</span><kbd>N</kbd></span>을 누르거나 menu에서 File > New File > R Script를 선택합니다. 이렇게 하면 새 스크립트 패널(또는 이미 열려 있는 경우 스크립트 패널의 새 탭)이 열립니다. 그런 다음 스크립트 패널에서 코드 작성을 시작할 수 있습니다. 예를 들어 다음을 시도하십시오.:</p> <div class=highlight><pre><span></span><code><span class=m>1+1</span>
<span class=m>2</span><span class=o>*</span><span class=m>2</span>
<span class=m>1+2</span><span class=o>*</span><span class=m>3-5</span>
<span class=p>(</span><span class=m>1+2</span><span class=p>)</span><span class=o>*</span><span class=m>3-5</span>
</code></pre></div> <p>스크립트 패널에서 <span class=keys><kbd class=key-enter>Enter</kbd></span> 키를 누르면 코드를 실행하는 대신 새 줄을 삽입합니다. 스크립트 패널은 코드를 실행하는 대신 작성하는 데 사용되기 때문입니다. 코드를 실제로 실행하려면 콘솔 패널로 코드를 보내야 합니다. 이는 여러 가지 방법으로 수행할 수 있습니다. 그들에게 당신이 선호하는 것을 보도록 합시다.</p> <p>전체 스크립트를 실행하려면 다음 중 하나를 수행합니다.</p> <ul> <li>스크립트 패널의 오른쪽 상단에 있는 소스 버튼을 누릅니다.</li> <li>키보드에서 <span class=keys><kbd class=key-control>Ctrl</kbd><span>+</span><kbd class=key-shift>Shift</kbd><span>+</span><kbd class=key-enter>Enter</kbd></span> 를 누릅니다.</li> <li>키보드에서 <span class=keys><kbd class=key-control>Ctrl</kbd><span>+</span><kbd class=key-alt>Alt</kbd><span>+</span><kbd class=key-enter>Enter</kbd></span> 를 눌러 콘솔에서 코드 및 출력을 인쇄하지 않고 코드를 실행합니다.</li> </ul> <p>스크립트의 일부를 실행하려면 먼저 실행하려는 행을 선택하십시오. 마우스를 사용하여 강조 표시합니다. 그런 다음 다음 중 하나를 수행합니다.</p> <ul> <li>스크립트 패널의 오른쪽 상단에 있는 실행 버튼을 누릅니다.</li> <li>키보드에서 <span class=keys><kbd class=key-control>Ctrl</kbd><span>+</span><kbd class=key-enter>Enter</kbd></span>를 누릅니다(저는 보통 이렇게 합니다!).</li> </ul> <p>스크립트를 저장하려면 저장 아이콘을 클릭하고 메뉴에서 파일 > 저장을 선택하거나 <span class=keys><kbd class=key-control>Ctrl</kbd><span>+</span><kbd>S</kbd></span>를 누릅니다. R 스크립트 파일은 파일 확장자 <code>.R</code>을 가져야 합니다. <code>My_first_R_script.R</code>. 작업을 자주 저장하고 이 책에 있는 모든 예제와 연습에 대한 코드를 저장하는 것을 잊지 마십시오. 나중에 이전 예제를 다시 방문하여 어떤 작업이 수행되었는지 확인하고 싶을 것입니다.</p> <h2 id=_2>변수와 함수</h2> <p>물론 R은 단순한 멋진 계산기 그 이상입니다. 잠재력을 최대한 활용하려면 variables(데이터 저장에 사용) 및 functions(데이터 작업에 사용)의 두 가지 주요 개념에 대해 논의해야 합니다.</p> <h3 id=data>data 할당</h3> <p>데이터가 없으면 데이터 분석도 없습니다. 그렇다면 R에서 어떻게 데이터를 저장하고 읽을 수 있을까요? 답은 variables를 사용한다는 것입니다. 변수는 코드를 작성할 때 데이터 세트를 참조할 수 있도록 데이터를 저장하는 데 사용되는 이름입니다. 변수라는 이름에서 알 수 있듯이 저장되는 내용은 시간이 지남에 따라 변경될 수 있습니다.[^4].</p> <p>The code</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>4</span>
</code></pre></div> <p>값 <code>4</code>를 variable <code>x</code>에 assign하는 데 사용됩니다. “<code>4</code>를 <code>x</code>에 할당”으로 읽습니다. <code>&lt;-</code> 부분은 작음 기호(<code>&lt;</code>)와 하이픈(<code>-</code>) 사이에 공백 없이 작성하여 만듭니다.[^5].</p> <p>이제 콘솔에 <code>x</code>를 입력하면 R은 <code>4</code>를 반환합니다. 음, 거의. 실제로 R은 다음과 같은 다소 애매한 출력을 반환합니다.:</p> <div class=highlight><pre><span></span><code>[1] 4
</code></pre></div> <p><code>4</code>의 의미는 명확합니다. 4입니다. <code>[1]</code> 부분이 의미하는 바는 곧 다시 설명하겠습니다.</p> <p>이제 <code>x</code>라는 변수를 만들고 값(4)을 할당했으므로 <code>x</code>는 다시 사용할 때마다 값 4를 갖게 됩니다. 이것은 수학 공식처럼 작동합니다. 예를 들어 값 <span class=arithmatex><span class=MathJax_Preview>x=4</span><script type=math/tex>x=4</script></span>를 공식 <span class=arithmatex><span class=MathJax_Preview>x+1</span><script type=math/tex>x+1</script></span>에 삽입할 수 있습니다. 다음 두 줄의 코드는 <span class=arithmatex><span class=MathJax_Preview>x+1=4+1=5</span><script type=math/tex>x+1=4+1=5</script></span> 및 <span class=arithmatex><span class=MathJax_Preview>x+x=4+4=8</span><script type=math/tex>x+x=4+4=8</script></span>를 계산합니다.:</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>1</span>
<span class=n>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>x</span>
</code></pre></div> <p><code>x</code>에 값을 할당하면 RStudio의 환경 패널에 나타나 변수 이름과 값을 모두 볼 수 있습니다.</p> <p>할당 <code>x &lt;- 4</code>의 왼쪽은 항상 변수의 이름이지만 오른쪽은 변수에 저장할 일종의 개체를 생성하는 코드 조각일 수 있습니다. 예를 들어 오른쪽에서 계산을 수행한 다음 결과를 변수에 저장할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>3</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>4</span>
</code></pre></div> <p>R은 먼저 오른쪽 전체를 평가하며, 이 경우 1+2+3+4를 계산한 다음 결과(10)를 ’x’에 할당합니다. 이전에 <code>x</code>에 할당된 값(예: <code>4</code>)은 이제 <code>10</code>으로 대체되었습니다. 코드 조각이 실행된 후 영향을 받는 변수의 값이 변경됩니다. 실행을 되돌리고 ’4’를 다시 가져올 방법이 없습니다. 처음에 이를 생성한 코드를 다시 실행하기 위해 저장하십시오.</p> <p>위의 코드에서 예를 들어 숫자와 더하기 기호 사이에 공백을 추가했음을 알 수 있습니다. 이는 단순히 가독성을 높이기 위한 것입니다. 코드는 공백 없이도 잘 작동합니다.:</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=o>&lt;-</span><span class=m>1+2+3+4</span>
</code></pre></div> <p>또는 일부 장소에는 공백이 있지만 다른 장소에는 공백이 없습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=o>&lt;-</span><span class=w> </span><span class=m>1+2+3</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>4</span>
</code></pre></div> <p>단, <code>&lt;-</code> 화살표 중간에는 공백을 넣을 수 없습니다. 다음은 <code>x</code>에 값을 할당하지 않습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>3</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>4</span>
</code></pre></div> <p>해당 코드를 실행하면 출력이 ’FALSE’로 렌더링되었습니다. 이는 공백이 있는 <code>&lt; -</code>가 R의 <code>&lt;-</code>와 다른 의미를 갖기 때문입니다. 이에 대해서는 다음장에서 다시 설명하겠습니다.</p> <p>드물게 변수 이름이 오른쪽에 오도록 화살표 방향을 전환할 수 있습니다. 이것은 오른쪽 할당이라고 하며 잘 작동합니다.:</p> <div class=highlight><pre><span></span><code><span class=m>2</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=m>2</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>y</span>
</code></pre></div> <p>Later on, we’ll see plenty of examples where right-assignment comes in handy.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>1. 합계 $924+124$를 계산하고 그 결과를 &#39;a&#39;라는 변수에 할당합니다.

2. $a\cdot a$를 계산합니다.
</code></pre></div> <p><a href=#ch2bsolutions2></a></p> <h3 id=whats-in-a-name>What’s in a name?</h3> <p>이제 변수에 값을 할당하는 방법을 알게 되었습니다. 하지만 변수를 뭐라고 불러야 할까요? 물론 이전 섹션의 예를 따라 <code>x</code>, <code>y</code>, <code>a</code> 및 <code>b</code>와 같은 변수 이름을 지정할 수 있습니다. 그러나 한 글자 이름을 사용할 필요는 없으며 가독성을 위해 변수에 더 많은 정보를 제공하는 이름을 지정하는 것이 좋습니다. 다음 두 코드 청크를 비교하십시오.:</p> <div class=highlight><pre><span></span><code><span class=n>y</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>100</span>
<span class=n>z</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>20</span>
<span class=n>x</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>z</span>
</code></pre></div> <p>and</p> <div class=highlight><pre><span></span><code><span class=n>income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>100</span>
<span class=n>taxes</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>20</span>
<span class=n>net_income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>taxes</span>
</code></pre></div> <p>두 청크 모두 오류 없이 실행되고 동일한 결과를 산출하지만 두 청크 사이에는 큰 차이가 있습니다. 첫 번째 청크는 불투명합니다. 코드는 실제로 계산하는 것을 이해하는 데 전혀 도움이 되지 않습니다. 반면에 두 번째 청크가 소득에서 세금을 빼서 순소득을 계산하는 데 사용된다는 것은 완전히 분명합니다. 명확한 목적 없이 뚫을 수 없는 코드를 생성하는 청크 1 유형 R 사용자가 되고 싶지는 않습니다. 각 줄의 의도가 분명한 명확하고 읽기 쉬운 코드를 작성하는 두 가지 유형의 R 사용자가 되기를 원합니다. 저에게서 가져가세요. 몇 년 동안 저는 덩치 큰 남자였습니다. 유용한 코드를 많이 작성할 수 있었지만 재사용하거나 일부 버그를 수정하기 위해 이전 코드로 돌아가야 할 때마다 각 줄이 수행해야 하는 작업을 이해하는 데 어려움을 겪었습니다. 청크 투맨으로서의 나의 새로운 삶은 모든 면에서 더 좋습니다.</p> <p>그래서, 이름은 무엇입니까? 셰익스피어의 발코니에 묶인 Juliet는 우리가 다른 이름으로 장미라고 부르는 것이 달콤한 냄새가 날 것이라고 믿게 만들 것입니다. R 사례로 번역하면 변수에 대해 어떤 이름을 선택하든 상관없이 코드가 잘 실행된다는 의미입니다. 그러나 당신이나 다른 누군가가 당신의 코드를 읽을 때 <code>x</code>나 <code>my_new_variable_5</code>가 아니라 장미를 장미라고 부르면 큰 도움이 될 것입니다.</p> <p>R은 대소문자를 구분합니다. 즉, <code>my_variable</code>, <code>MY_VARIABLE</code>, <code>My_Variable</code> 및 <code>mY_VariABle</code>은 다른 변수로 취급됩니다. 변수에 저장된 데이터에 액세스하려면 올바른 위치에 소문자와 대문자를 포함하여 정확한 이름을 사용해야 합니다. 잘못된 변수 이름을 쓰는 것은 R 프로그래밍에서 가장 흔한 오류 중 하나입니다.</p> <p><code>net_income</code>에서 했던 것처럼 여러 단어로 변수 이름을 구성하고 싶은 경우가 자주 있을 것입니다. 그러나 R은 변수 이름에 공백을 허용하지 않으므로 ’순이익’은 유효한 변수 이름이 아닙니다. 변수 이름을 지정하는 데 사용할 수 있는 몇 가지 명명 규칙이 있습니다.:</p> <ul> <li><code>snake_case</code>, 여기서 단어는 밑줄(<code>_</code>)로 구분됩니다. 예: <code>household_net_income</code>.</li> <li><code>camelCase</code> 또는 <code>CamelCase</code>, 각 새 단어는 대문자로 시작합니다. 예: ‘househouldNetIncome’ 또는 ‘HousehouldNetIncome’.</li> <li><code>period.case</code>, 여기서 각 단어는 마침표(<code>.</code>)로 구분됩니다. 이것은 R에서 많이 사용되지만 이름 중간의 마침표는 고급 사례에서 다른 의미를 가질 수 있으므로 변수 이름을 지정하는 데 사용하지 않는 것이 좋습니다[^6]. 예: <code>household.net.income</code>.</li> <li>‘concatenatedwordscase’, 소문자만 사용하여 단어를 연결합니다. 이 규칙의 단점은 변수 이름을 읽기 어렵게 만들 수 있다는 것입니다. 예: ‘가계 순소득’</li> <li><code>SCREAMING_SNAKE_CASE</code>, 요즘 유닉스 셸 스크립트에서 주로 사용하는 항목. 원하는 경우 R에서 사용할 수 있지만 다른 사람들이 당신이 화가 났거나 매우 흥분했거나 완전히 화가 났다고 생각하게 할 위험이 있습니다. 당신이 원하는대로 만드십시오.]. 예: <code>HOUSEHOULD_NET_INCOME</code>.</li> </ul> <p>공백, <code>-</code>, <code>+</code>, <code>*</code>, <code>:</code>, <code>=</code>, <code>!</code> 및 <code>$</code>를 포함한 일부 문자는 R에서 다른 용도로 사용되므로 변수 이름에 사용할 수 없습니다. 예를 들어 더하기 기호 <code>+</code>는 (예상한 대로) 추가에 사용되므로 변수 이름에 사용하도록 허용하면 모든 종류의 혼란이 발생합니다. 또한 변수 이름은 숫자로 시작할 수 없습니다. 그 외에 변수 이름을 지정하는 방법과 사용하는 규칙은 사용자에게 달려 있습니다. 기억하세요. 변수는 어떤 이름을 지정하든 관계없이 달콤한 냄새가 나지만 좋은 명명 규칙을 사용하면 가독성이 향상됩니다[^7].</p> <p>코드의 가독성을 높이는 또 다른 좋은 방법은 comments를 사용하는 것입니다. 주석은 R에서 무시되는 ’#’으로 표시된 텍스트입니다. 따라서 코드를 읽는 사람들(미래의 당신 포함)에게 무슨 일이 일어나고 있는지 설명하고 방법에 대한 지침을 추가하는 데 사용할 수 있습니다. 코드를 사용합니다. 주석은 별도의 줄이나 코드 줄 끝에 놓을 수 있습니다. 다음은 예입니다.</p> <div class=highlight><pre><span></span><code><span class=c1>#############################################################</span>
<span class=c1>#  This lovely little code snippet can be used to compute   #</span>
<span class=c1>#                   your net income.                        #</span>
<span class=c1>#############################################################</span>

<span class=c1># Set income and taxes:</span>
<span class=n>income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>100</span><span class=w>  </span><span class=c1># Replace 100 with your income</span>
<span class=n>taxes</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>20</span><span class=w>    </span><span class=c1># Replace 20 with how much taxes you pay</span>

<span class=c1># Compute your net income:</span>
<span class=n>net_income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>taxes</span>
<span class=c1># Voilà!</span>
</code></pre></div> <p>RStudio의 스크립트 패널에서 키보드에서 Ctrl+Shift+C를 눌러 행에 주석을 달거나 주석을 제거(즉, <code>#</code> 기호 제거)할 수 있습니다. 이것은 여러 줄을 주석 처리하거나 제거하려는 경우에 특히 유용합니다. 간단히 줄을 선택하고 Ctrl+Shift+C를 누르십시오.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>Answer the following questions:
</code></pre></div> <ol> <li>변수 이름에 유효하지 않은 문자를 사용하면 어떻게 됩니까? 예를 들어보십시오. 다음과 같은:</li> </ol> <div class=highlight><pre><span></span><code><span class=n>net</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>taxes</span>
<span class=n>net</span><span class=o>-</span><span class=n>income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>taxes</span>
<span class=n>ca</span><span class=o>$</span><span class=n>h</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>taxes</span>
</code></pre></div> <ol> <li>R 코드를 주석으로 넣으면 어떻게 되나요? 예를 들어:</li> </ol> <div class=highlight><pre><span></span><code><span class=n>income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>100</span>
<span class=n>taxes</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>20</span>
<span class=n>net_income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>income</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>taxes</span>
<span class=c1># gross_income &lt;- net_income + taxes</span>
</code></pre></div> <ol> <li>줄 바꿈을 제거하고 세미콜론으로 바꾸면 어떻게 됩니까? <code>;</code>? E.g.:</li> </ol> <div class=highlight><pre><span></span><code><span class=n>income</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>200</span><span class=p>;</span><span class=w> </span><span class=n>taxes</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>30</span>
</code></pre></div> <ol> <li>같은 줄에서 두 개의 과제를 수행하면 어떻게 됩니까? 예를 들어:</li> </ol> <div class=highlight><pre><span></span><code><span class=n>income2</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>taxes2</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>100</span>
</code></pre></div> <p><a href=#ch2bsolutions3></a></p> <h3 id=vectors-and-data-frames>Vectors and data frames</h3> <p>거의 변함없이 분석에서 한 번에 둘 이상의 수치를 처리하게 됩니다. 예를 들어 서점에서 고객의 나이 목록을 가질 수 있습니다.</p> <p><span class=arithmatex><span class=MathJax_Preview><span class=arithmatex><span class=MathJax_Preview>28, 48, 47, 71, 22, 80, 48, 30, 31</span><script type=math/tex>28, 48, 47, 71, 22, 80, 48, 30, 31</script></span></span><script type=math/tex><span class="arithmatex"><span class="MathJax_Preview">28, 48, 47, 71, 22, 80, 48, 30, 31</span><script type="math/tex">28, 48, 47, 71, 22, 80, 48, 30, 31</script></span></script></span> Of course, we could store each observation in a separate variable:</p> <div class=highlight><pre><span></span><code><span class=n>age_person_1</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>28</span>
<span class=n>age_person_2</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>48</span>
<span class=n>age_person_3</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>47</span>
<span class=c1># ...and so on</span>
</code></pre></div> <p>…하지만 이것은 금방 어색해집니다. 훨씬 더 나은 솔루션은 전체 목록을 단 하나의 변수에 저장하는 것입니다. R에서는 이러한 목록을 vector라고 합니다. 다음 코드를 사용하여 벡터를 만들 수 있습니다. 여기서 <code>c</code>는 combine을 나타냅니다.:</p> <div class=highlight><pre><span></span><code><span class=n>age</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>28</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>47</span><span class=p>,</span><span class=w> </span><span class=m>71</span><span class=p>,</span><span class=w> </span><span class=m>22</span><span class=p>,</span><span class=w> </span><span class=m>80</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>30</span><span class=p>,</span><span class=w> </span><span class=m>31</span><span class=p>)</span>
</code></pre></div> <p>T벡터의 숫자는 elements라고 합니다. 단일 숫자를 포함하는 변수를 처리한 것처럼 벡터 변수 <code>age</code>를 처리할 수 있습니다. 차이점은 작업이 목록의 모든 요소에 적용된다는 것입니다. 예를 들어 나이를 년이 아닌 개월로 표현하려면 다음을 사용하여 모든 나이를 개월로 변환할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>age_months</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=m>12</span>
</code></pre></div> <p>대부분의 경우 데이터에는 둘 이상의 수량에 대한 측정값이 포함됩니다. 우리 서점 고객의 경우 마지막 구매에 사용한 금액에 대한 정보도 있습니다.:</p> <div class=arithmatex> <div class=MathJax_Preview>20, 59, 2, 12, 22, 160, 34, 34, 29</div> <script type="math/tex; mode=display">20, 59, 2, 12, 22, 160, 34, 34, 29</script> </div> <p>First, let’s store this data in a vector:</p> <div class=highlight><pre><span></span><code><span class=n>purchase</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>20</span><span class=p>,</span><span class=w> </span><span class=m>59</span><span class=p>,</span><span class=w> </span><span class=m>2</span><span class=p>,</span><span class=w> </span><span class=m>12</span><span class=p>,</span><span class=w> </span><span class=m>22</span><span class=p>,</span><span class=w> </span><span class=m>160</span><span class=p>,</span><span class=w> </span><span class=m>34</span><span class=p>,</span><span class=w> </span><span class=m>34</span><span class=p>,</span><span class=w> </span><span class=m>29</span><span class=p>)</span>
</code></pre></div> <p>Excel과 같은 스프레드시트 소프트웨어에서 하듯이 이 두 벡터를 테이블로 결합하면 좋을 것입니다. 그러면 두 벡터 사이의 관계를 볼 수 있습니다. 흥미로운 패턴을 찾을 수 있을까요? R에서 벡터 테이블을 데이터 프레임이라고 합니다. 다음과 같이 두 벡터를 데이터 프레임으로 결합할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>bookstore</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>data.frame</span><span class=p>(</span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>purchase</span><span class=p>)</span>
</code></pre></div> <p>콘솔에 <code>bookstore</code>를 입력하면 두 벡터 값(및 행 번호)이 포함된 간단한 형식의 테이블이 표시됩니다.:</p> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=w> </span><span class=n>bookstore</span>
<span class=w>  </span><span class=n>age</span><span class=w> </span><span class=n>purchase</span>
<span class=m>1</span><span class=w>  </span><span class=m>28</span><span class=w>       </span><span class=m>20</span>
<span class=m>2</span><span class=w>  </span><span class=m>48</span><span class=w>       </span><span class=m>59</span>
<span class=m>3</span><span class=w>  </span><span class=m>47</span><span class=w>        </span><span class=m>2</span>
<span class=m>4</span><span class=w>  </span><span class=m>71</span><span class=w>       </span><span class=m>12</span>
<span class=m>5</span><span class=w>  </span><span class=m>22</span><span class=w>       </span><span class=m>22</span>
<span class=m>6</span><span class=w>  </span><span class=m>80</span><span class=w>      </span><span class=m>160</span>
<span class=m>7</span><span class=w>  </span><span class=m>48</span><span class=w>       </span><span class=m>34</span>
<span class=m>8</span><span class=w>  </span><span class=m>30</span><span class=w>       </span><span class=m>34</span>
<span class=m>9</span><span class=w>  </span><span class=m>31</span><span class=w>       </span><span class=m>29</span>
</code></pre></div> <p>테이블을 보는 더 좋은 방법은 환경 패널에서 변수 이름 ’bookstore’를 클릭하는 것일 수 있습니다. 그러면 데이터 프레임이 스프레드시트 형식으로 열립니다.</p> <p>R이 변수의 값을 인쇄하도록 요청할 때 줄의 시작 부분에 <code>[1]</code>을 인쇄하는 경향이 있음을 알 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=w> </span><span class=n>age</span>
<span class=p>[</span><span class=m>1</span><span class=p>]</span><span class=w> </span><span class=m>28</span><span class=w> </span><span class=m>48</span><span class=w> </span><span class=m>47</span><span class=w> </span><span class=m>71</span><span class=w> </span><span class=m>22</span><span class=w> </span><span class=m>80</span><span class=w> </span><span class=m>48</span><span class=w> </span><span class=m>30</span><span class=w> </span><span class=m>31</span>
</code></pre></div> <p>Why? Well, let’s see what happens if we print a longer vector:</p> <div class=highlight><pre><span></span><code><span class=c1># When we enter data into a vector, we can put line breaks between</span>
<span class=c1># the commas:</span>
<span class=n>distances</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>687</span><span class=p>,</span><span class=w> </span><span class=m>5076</span><span class=p>,</span><span class=w> </span><span class=m>7270</span><span class=p>,</span><span class=w> </span><span class=m>967</span><span class=p>,</span><span class=w> </span><span class=m>6364</span><span class=p>,</span><span class=w> </span><span class=m>1683</span><span class=p>,</span><span class=w> </span><span class=m>9394</span><span class=p>,</span><span class=w> </span><span class=m>5712</span><span class=p>,</span><span class=w> </span><span class=m>5206</span><span class=p>,</span>
<span class=w>               </span><span class=m>4317</span><span class=p>,</span><span class=w> </span><span class=m>9411</span><span class=p>,</span><span class=w> </span><span class=m>5625</span><span class=p>,</span><span class=w> </span><span class=m>9725</span><span class=p>,</span><span class=w> </span><span class=m>4977</span><span class=p>,</span><span class=w> </span><span class=m>2730</span><span class=p>,</span><span class=w> </span><span class=m>5648</span><span class=p>,</span><span class=w> </span><span class=m>3818</span><span class=p>,</span><span class=w> </span><span class=m>8241</span><span class=p>,</span>
<span class=w>               </span><span class=m>5547</span><span class=p>,</span><span class=w> </span><span class=m>1637</span><span class=p>,</span><span class=w> </span><span class=m>4428</span><span class=p>,</span><span class=w> </span><span class=m>8584</span><span class=p>,</span><span class=w> </span><span class=m>2962</span><span class=p>,</span><span class=w> </span><span class=m>5729</span><span class=p>,</span><span class=w> </span><span class=m>5325</span><span class=p>,</span><span class=w> </span><span class=m>4370</span><span class=p>,</span><span class=w> </span><span class=m>5989</span><span class=p>,</span>
<span class=w>               </span><span class=m>9030</span><span class=p>,</span><span class=w> </span><span class=m>5532</span><span class=p>,</span><span class=w> </span><span class=m>9623</span><span class=p>)</span>
<span class=n>distances</span>
</code></pre></div> <p>콘솔 패널의 크기에 따라 R은 ’거리’에 데이터를 표시하기 위해 다른 행 수를 요구합니다. 출력은 다음과 같습니다.:</p> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=w> </span><span class=n>distances</span>
<span class=w> </span><span class=p>[</span><span class=m>1</span><span class=p>]</span><span class=w>  </span><span class=m>687</span><span class=w> </span><span class=m>5076</span><span class=w> </span><span class=m>7270</span><span class=w>  </span><span class=m>967</span><span class=w> </span><span class=m>6364</span><span class=w> </span><span class=m>1683</span><span class=w> </span><span class=m>9394</span><span class=w> </span><span class=m>5712</span><span class=w> </span><span class=m>5206</span><span class=w> </span><span class=m>4317</span><span class=w> </span><span class=m>9411</span><span class=w> </span><span class=m>5625</span><span class=w> </span><span class=m>9725</span>
<span class=p>[</span><span class=m>14</span><span class=p>]</span><span class=w> </span><span class=m>4977</span><span class=w> </span><span class=m>2730</span><span class=w> </span><span class=m>5648</span><span class=w> </span><span class=m>3818</span><span class=w> </span><span class=m>8241</span><span class=w> </span><span class=m>5547</span><span class=w> </span><span class=m>1637</span><span class=w> </span><span class=m>4428</span><span class=w> </span><span class=m>8584</span><span class=w> </span><span class=m>2962</span><span class=w> </span><span class=m>5729</span><span class=w> </span><span class=m>5325</span><span class=w> </span><span class=m>4370</span>
<span class=p>[</span><span class=m>27</span><span class=p>]</span><span class=w> </span><span class=m>5989</span><span class=w> </span><span class=m>9030</span><span class=w> </span><span class=m>5532</span><span class=w> </span><span class=m>9623</span>
</code></pre></div> <p>or, if you have a narrower panel,</p> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=w> </span><span class=n>distances</span>
<span class=w> </span><span class=p>[</span><span class=m>1</span><span class=p>]</span><span class=w>  </span><span class=m>687</span><span class=w> </span><span class=m>5076</span><span class=w> </span><span class=m>7270</span><span class=w>  </span><span class=m>967</span><span class=w> </span><span class=m>6364</span><span class=w> </span><span class=m>1683</span><span class=w> </span><span class=m>9394</span>
<span class=w> </span><span class=p>[</span><span class=m>8</span><span class=p>]</span><span class=w> </span><span class=m>5712</span><span class=w> </span><span class=m>5206</span><span class=w> </span><span class=m>4317</span><span class=w> </span><span class=m>9411</span><span class=w> </span><span class=m>5625</span><span class=w> </span><span class=m>9725</span><span class=w> </span><span class=m>4977</span>
<span class=p>[</span><span class=m>15</span><span class=p>]</span><span class=w> </span><span class=m>2730</span><span class=w> </span><span class=m>5648</span><span class=w> </span><span class=m>3818</span><span class=w> </span><span class=m>8241</span><span class=w> </span><span class=m>5547</span><span class=w> </span><span class=m>1637</span><span class=w> </span><span class=m>4428</span>
<span class=p>[</span><span class=m>22</span><span class=p>]</span><span class=w> </span><span class=m>8584</span><span class=w> </span><span class=m>2962</span><span class=w> </span><span class=m>5729</span><span class=w> </span><span class=m>5325</span><span class=w> </span><span class=m>4370</span><span class=w> </span><span class=m>5989</span><span class=w> </span><span class=m>9030</span>
<span class=p>[</span><span class=m>29</span><span class=p>]</span><span class=w> </span><span class=m>5532</span><span class=w> </span><span class=m>9623</span>
</code></pre></div> <p>대괄호 안의 숫자(<code>[1]</code>, <code>[8]</code>, <code>[15]</code> 등)는 각 행에 먼저 인쇄되는 벡터의 요소를 알려줍니다. 따라서 후자의 예에서 벡터의 첫 번째 요소는 ‘687’, 8번째 요소는 ‘5712’, 15번째 요소는 ‘2730’ 등입니다. 요소의 indices라고 하는 이러한 숫자는 정확히 데이터의 일부는 아니지만 나중에 살펴보겠지만 데이터를 추적하는 데 유용합니다.</p> <p>이것은 또한 R의 내부 작동에 대해 알려줍니다.</p> <div class=highlight><pre><span></span><code><span class=n>x</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=m>4</span>
<span class=n>x</span>
</code></pre></div> <p>renders the output</p> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=w> </span><span class=n>x</span>
<span class=p>[</span><span class=m>1</span><span class=p>]</span><span class=w> </span><span class=m>4</span>
</code></pre></div> <p>사실 <code>x</code>는 하나의 요소를 가지고 있지만 벡터라는 것을 알려줍니다. R의 거의 모든 것은 어떤 식으로든 벡터입니다.</p> <p>벡터를 생성할 때 여러 줄에 데이터를 입력할 수 있다는 것은 매우 유용하지만 닫는 괄호 <code>)</code>를 포함하는 것을 잊은 경우 문제가 발생할 수도 있습니다. 콘솔 패널에서 마지막 대괄호가 없는 다음 코드를 실행해 보십시오.:</p> <div class=highlight><pre><span></span><code><span class=n>distances</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>687</span><span class=p>,</span><span class=w> </span><span class=m>5076</span><span class=p>,</span><span class=w> </span><span class=m>7270</span><span class=p>,</span><span class=w> </span><span class=m>967</span><span class=p>,</span><span class=w> </span><span class=m>6364</span><span class=p>,</span><span class=w> </span><span class=m>1683</span><span class=p>,</span><span class=w> </span><span class=m>9394</span><span class=p>,</span><span class=w> </span><span class=m>5712</span><span class=p>,</span><span class=w> </span><span class=m>5206</span><span class=p>,</span>
<span class=w>               </span><span class=m>4317</span><span class=p>,</span><span class=w> </span><span class=m>9411</span><span class=p>,</span><span class=w> </span><span class=m>5625</span><span class=p>,</span><span class=w> </span><span class=m>9725</span><span class=p>,</span><span class=w> </span><span class=m>4977</span><span class=p>,</span><span class=w> </span><span class=m>2730</span><span class=p>,</span><span class=w> </span><span class=m>5648</span><span class=p>,</span><span class=w> </span><span class=m>3818</span><span class=p>,</span><span class=w> </span><span class=m>8241</span><span class=p>,</span>
<span class=w>               </span><span class=m>5547</span><span class=p>,</span><span class=w> </span><span class=m>1637</span><span class=p>,</span><span class=w> </span><span class=m>4428</span><span class=p>,</span><span class=w> </span><span class=m>8584</span><span class=p>,</span><span class=w> </span><span class=m>2962</span><span class=p>,</span><span class=w> </span><span class=m>5729</span><span class=p>,</span><span class=w> </span><span class=m>5325</span><span class=p>,</span><span class=w> </span><span class=m>4370</span><span class=p>,</span><span class=w> </span><span class=m>5989</span><span class=p>,</span>
<span class=w>               </span><span class=m>9030</span><span class=p>,</span><span class=w> </span><span class=m>5532</span><span class=p>,</span><span class=w> </span><span class=m>9623</span>
</code></pre></div> <p>Enter 키를 누르면 <code>+</code> 기호로 시작하는 새 줄이 나타납니다. 이것은 R이 당신의 문장이 끝났다고 생각하지 않는다는 것을 나타냅니다. 완료하려면 콘솔에 <code>)</code>를 입력한 다음 Enter 키를 누릅니다.</p> <p>벡터와 데이터 프레임은 R에서 데이터로 작업할 때 매우 중요합니다. Chapters @ref(datachapter) 및 @ref(messychapter)은 이러한 개체로 작업하는 방법을 설명합니다.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>Do the following:

1. 5명의 가상 인물의 키와 몸무게를 포함하는 &#39;height&#39;와 &#39;weight&#39;라는 두 개의 벡터를 만듭니다(즉, 숫자를 만들어 보세요!).

2. 두 벡터를 데이터 프레임으로 결합합니다.

실습에서 이 벡터를 사용합니다. \@ref(exr:ch2bexc5).
</code></pre></div> <p><a href=#ch2bsolutions4></a></p> <p><br></p> <div class=highlight><pre><span></span><code>Try creating a vector using `x &lt;- 1:5`. 

What happens? What happens if you use `5:1` instead? 

How can you use this notation to create the vector $(1,2,3,4,5,4,3,2,1)$?
</code></pre></div> <p><a href=#ch2bsolutions4b></a></p> <h3 id=functions>Functions</h3> <p>데이터가 있습니다. 엄청난. 그러나 단순히 데이터를 갖는 것만으로는 충분하지 않습니다. 데이터로 무언가를 하고 싶을 것입니다. 그래프를 그리거나 평균값을 계산하거나 일부 고급 통계 모델을 그래프에 적용하고 싶을 수 있습니다. 이렇게 하려면 function을 사용합니다.</p> <p>함수는 R에게 무언가를 하라고 지시하는 기성 명령 세트(코드)입니다. R에는 수천 개의 함수가 있습니다. 일반적으로 함수에 변수를 삽입하면 응답이 반환됩니다. 이를 위한 코드는 <code>function_name(variable_name)</code> 패턴을 따릅니다. 첫 번째 예로 변수의 평균을 계산하는 함수 <code>mean</code>을 고려하십시오.:</p> <div class=highlight><pre><span></span><code><span class=c1># Compute the mean age of bookstore customers</span>
<span class=n>age</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>28</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>47</span><span class=p>,</span><span class=w> </span><span class=m>71</span><span class=p>,</span><span class=w> </span><span class=m>22</span><span class=p>,</span><span class=w> </span><span class=m>80</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>30</span><span class=p>,</span><span class=w> </span><span class=m>31</span><span class=p>)</span>
<span class=nf>mean</span><span class=p>(</span><span class=n>age</span><span class=p>)</span>
</code></pre></div> <p>코드는 <code>function_name(variable_name)</code> 패턴을 따릅니다. 함수 이름은 <code>mean</code>이고 변수 이름은 <code>age</code>입니다.</p> <p>일부 함수는 하나 이상의 변수를 입력으로 사용하며 함수의 동작을 제어하는 데 사용할 수 있는 추가 arguments(또는 parameters)가 있을 수도 있습니다. 이러한 예 중 하나는 두 변수 사이의 상관관계를 계산하는 <code>cor</code>입니다.:</p> <div class=highlight><pre><span></span><code><span class=c1># Compute the correlation between the variables age and purchase</span>
<span class=n>age</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>28</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>47</span><span class=p>,</span><span class=w> </span><span class=m>71</span><span class=p>,</span><span class=w> </span><span class=m>22</span><span class=p>,</span><span class=w> </span><span class=m>80</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>30</span><span class=p>,</span><span class=w> </span><span class=m>31</span><span class=p>)</span>
<span class=n>purchase</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>20</span><span class=p>,</span><span class=w> </span><span class=m>59</span><span class=p>,</span><span class=w> </span><span class=m>2</span><span class=p>,</span><span class=w> </span><span class=m>12</span><span class=p>,</span><span class=w> </span><span class=m>22</span><span class=p>,</span><span class=w> </span><span class=m>160</span><span class=p>,</span><span class=w> </span><span class=m>34</span><span class=p>,</span><span class=w> </span><span class=m>34</span><span class=p>,</span><span class=w> </span><span class=m>29</span><span class=p>)</span>
<span class=nf>cor</span><span class=p>(</span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>purchase</span><span class=p>)</span>
</code></pre></div> <p><span class=arithmatex><span class=MathJax_Preview>0.59</span><script type=math/tex>0.59</script></span>라는 대답은 연령과 구매 규모 사이에 상당히 강한 양의 상관관계가 있는 것으로 보이며, 이는 나이가 많은 고객이 더 많이 지출하는 경향이 있음을 의미합니다. 반면에 데이터만 보면 가장 나이가 많은 80세 고객이 다른 누구보다 훨씬 더 많은 금액(160 화폐 단위)을 지출했음을 알 수 있습니다. 이러한 outliers가 상관관계 계산에 큰 영향을 미칠 수 있습니다. 기본적으로 ’cor’는 이상값에 민감한 것으로 알려진 Pearson 상관 관계 공식을 사용합니다. 따라서 Spearman 상관 관계와 같이 이상값에 더 강력한 공식을 사용하여 계산을 수행하는 것도 중요합니다. 이것은 <code>cor</code>에 추가 argument를 전달하여 계산에 사용할 방법을 알려주는 방식으로 수행할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>cor</span><span class=p>(</span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>purchase</span><span class=p>,</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;spearman&quot;</span><span class=p>)</span>
</code></pre></div> <p>결과 상관 관계 <span class=arithmatex><span class=MathJax_Preview>0.35</span><script type=math/tex>0.35</script></span>는 이전 결과보다 상당히 낮습니다. 결국 상관 관계가 그렇게 강하지 않을 수도 있습니다.</p> <p>그렇다면 함수에 전달할 인수를 어떻게 알 수 있습니까? 운 좋게도 모든 함수에 대해 가능한 모든 인수를 기억할 필요는 없습니다. 대신 관심 있는 함수에 대한 documentation, 즉 도움말 파일을 볼 수 있습니다. 이것은 <code>?function_name을 입력하여 수행됩니다. 콘솔 패널에서</code> 또는 <code>R function_name</code>에 대한 웹 검색을 수행합니다. <code>cor</code> 함수에 대한 설명서를 보려면 다음을 입력하십시오.:</p> <div class=highlight><pre><span></span><code><span class=o>?</span><span class=n>cor</span>
</code></pre></div> <p>R 함수에 대한 문서는 모두 동일한 패턴을 따릅니다.</p> <ul> <li>설명: 함수가 수행하는 작업에 대한 간략한(때로는 매우 기술적인) 설명입니다.</li> <li>Usage: 함수가 R 코드에서 어떻게 사용되는지에 대한 추상적인 예입니다.</li> <li>Arguments: 함수의 입력 인수 목록 및 설명.</li> <li>Details: 기능 작동 방식에 대한 자세한 내용입니다.</li> <li>Value: 함수의 출력에 대한 정보.</li> <li>Note: 함수 작성자의 추가 설명(항상 포함되는 것은 아님).</li> <li>References: 기능과 관련된 논문이나 책에 대한 참조(항상 포함되는 것은 아님).</li> <li>See Also: 관련 함수 목록.</li> <li>Examples: 기능을 사용하는 방법에 대한 실용적인(때로는 덜 실용적인) 예.</li> </ul> <p>R 함수에 대한 문서를 처음 볼 때 이 모든 정보가 다소 압도적일 수 있습니다. 아마도 <code>cor</code>의 경우 더욱 그러할 것입니다. 이는 문서 페이지를 세 개의 다른(심하게 관련된) 함수인 <code>var</code>, <code>cov</code> 및 <code>cov2cor</code>와 공유한다는 점에서 약간 이례적입니다. 문서를 볼 때 섹션 헤드라인이 안내하도록 하십시오. 어떤 정보를 찾고 계십니까? 함수가 사용되는 방법에 대한 예를 찾고 있다면 예까지 아래로 스크롤하십시오. 사용 가능한 인수를 알고 싶다면 사용법 및 인수를 살펴보십시오.</p> <p>마지막으로 변수에 아무 것도 하지 않기 때문에 입력이 전혀 필요하지 않은 몇 가지 함수가 있습니다. 이러한 예 중 하나는 시스템의 현재 시간을 인쇄하는 <code>Sys.time()</code>입니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>Sys.time</span><span class=p>()</span>
</code></pre></div> <p><code>Sys.time</code>에 입력이 필요하지 않더라도 R에 함수 실행을 알리는 괄호 <code>()</code>를 작성해야 합니다.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>연습문제 \@ref(exr:ch2bexc4)에서 만든 데이터를 사용하여 다음을 수행합니다.

1. 사람들의 평균 키를 계산합니다.

2. 키와 몸무게의 상관관계를 계산합니다.
</code></pre></div> <p><a href=#ch2bsolutions5></a></p> <p><br></p> <div class=highlight><pre><span></span><code>다음을 수행하십시오.

1. `length`\index{\texttt{length}} 함수에 대한 문서를 읽으십시오. 무엇을합니까? 그것을 `height` 벡터에 적용하십시오.

2. `sort` 함수에 대한 문서를 읽으십시오. 무엇을합니까? 

인수 `감소`(`FALSE` 또는 `TRUE`일 수 있는 값)는 무엇을 합니까? 

함수를 `weight` 벡터에 적용합니다.
</code></pre></div> <p><a href=#ch2bsolutions6></a></p> <h3 id=mathematical-operations>Mathematical operations</h3> <p>R에서 덧셈, 뺄셈, 곱셈 및 나눗셈을 수행하기 위해 표준 기호 <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>를 사용할 수 있습니다. 수학에서와 마찬가지로 괄호 안의 식을 먼저 평가하고 곱셈은 덧셈보다 먼저 수행합니다. 따라서 <code>1 + 2*(8/2)</code>는 <span class=arithmatex><span class=MathJax_Preview>1+2\cdot(8/2)=1+2\cdot 4=1+8=9</span><script type=math/tex>1+2\cdot(8/2)=1+2\cdot 4=1+8=9</script></span>입니다.</p> <p>이러한 기본 산술 연산자 외에도 R에는 제곱근, 로그 및 삼각 함수를 포함하여 변수에 적용할 수 있는 여러 수학 함수가 있습니다. 다음은 변수 <code>x</code>에서 함수를 사용하기 위한 구문을 보여주는 불완전한 목록입니다. 전체적으로 ’a’는 숫자여야 합니다.</p> <ul> <li><code>abs(x)</code>: computes the absolute value <span class=arithmatex><span class=MathJax_Preview>|x|</span><script type=math/tex>|x|</script></span>.</li> <li><code>sqrt(x)</code>: computes <span class=arithmatex><span class=MathJax_Preview>\sqrt{x}</span><script type=math/tex>\sqrt{x}</script></span>.</li> <li><code>log(x)</code>: computes the logarithm of <span class=arithmatex><span class=MathJax_Preview>x</span><script type=math/tex>x</script></span> with the natural number <span class=arithmatex><span class=MathJax_Preview>e</span><script type=math/tex>e</script></span> as the base.</li> <li><code>log(x, base = a)</code>: computes the logarithm of <span class=arithmatex><span class=MathJax_Preview>x</span><script type=math/tex>x</script></span> with the number <span class=arithmatex><span class=MathJax_Preview>a</span><script type=math/tex>a</script></span> as the base.</li> <li><code>a^x</code>: computes <span class=arithmatex><span class=MathJax_Preview>a^x</span><script type=math/tex>a^x</script></span>.</li> <li><code>exp(x)</code>: computes <span class=arithmatex><span class=MathJax_Preview>e^x</span><script type=math/tex>e^x</script></span>.</li> <li><code>sin(x)</code>: computes <span class=arithmatex><span class=MathJax_Preview>\sin(x)</span><script type=math/tex>\sin(x)</script></span>.</li> <li><code>sum(x)</code>: when <code>x</code> is a vector <span class=arithmatex><span class=MathJax_Preview>x=(x_1,x_2,x_3,\ldots,x_n)</span><script type=math/tex>x=(x_1,x_2,x_3,\ldots,x_n)</script></span>, computes the sum of the elements of <code>x</code>: <span class=arithmatex><span class=MathJax_Preview>\sum_{i=1}^nx_i</span><script type=math/tex>\sum_{i=1}^nx_i</script></span>.</li> <li><code>prod(x)</code>: when <code>x</code> is a vector <span class=arithmatex><span class=MathJax_Preview>x=(x_1,x_2,x_3,\ldots,x_n)</span><script type=math/tex>x=(x_1,x_2,x_3,\ldots,x_n)</script></span>, computes the product of the elements of <code>x</code>: <span class=arithmatex><span class=MathJax_Preview>\prod_{i=1}^nx_i</span><script type=math/tex>\prod_{i=1}^nx_i</script></span>.</li> <li><code>pi</code>: a built-in variable with value <span class=arithmatex><span class=MathJax_Preview>\pi</span><script type=math/tex>\pi</script></span>, the ratio of the circumference of a circle to its diameter.</li> <li><code>x %% a</code>: computes <span class=arithmatex><span class=MathJax_Preview>x</span><script type=math/tex>x</script></span> modulo <span class=arithmatex><span class=MathJax_Preview>a</span><script type=math/tex>a</script></span>.</li> <li><code>factorial(x)</code>: computes <span class=arithmatex><span class=MathJax_Preview>x!</span><script type=math/tex>x!</script></span>.</li> <li><code>choose(n,k)</code>: computes <span class=arithmatex><span class=MathJax_Preview>{n}\choose{k}</span><script type=math/tex>{n}\choose{k}</script></span>.</li> </ul> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>Compute the following:

1. $\sqrt{\pi}$

2. $e^2\cdot log(4)$
</code></pre></div> <p><a href=#ch2bsolutions7></a></p> <p><br></p> <div class=highlight><pre><span></span><code>대답이 무한하거나 정의되지 않은 계산을 수행하려고 하면 R은 숫자가 아닌 대답을 반환합니다. 몇 가지 가능한 결과를 보려면 다음을 시도하십시오.

1. Compute $1/0$.

2. Compute $0/0$.

3. Compute $\sqrt{-1}$.
</code></pre></div> <p><a href=#ch2bsolutions8></a></p> <h2 id=descriptive-statistics>Descriptive statistics</h2> <p>이 장의 나머지 부분에서는 <code>ggplot2</code> 패키지와 함께 제공되는 두 가지 데이터 세트를 연구할 것입니다.</p> <ul> <li><code>다이아몬드</code>: 50,000개 이상의 컷된 다이아몬드 가격을 설명합니다.</li> <li><code>msleep</code>: 83마리 포유류의 수면 시간을 설명합니다.</li> </ul> <p>이것들과 일부 다른 데이터 세트는 <code>ggplot2</code>를 로드할 때 자동으로 데이터 프레임으로 로드됩니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>library</span><span class=p>(</span><span class=n>ggplot2</span><span class=p>)</span>
</code></pre></div> <p>먼저 <code>msleep</code> 데이터 세트를 살펴보겠습니다. 먼저 살펴보려면 콘솔 패널에 다음을 입력하십시오.:</p> <div class=highlight><pre><span></span><code><span class=n>msleep</span>
</code></pre></div> <p>그러면 데이터의 처음 10개 행과 일부 열이 표시됩니다. 또한 또 다른 중요한 정보를 제공합니다. ’83 x 11’은 데이터세트에 83개의 행(즉, 83개의 관측치)과 11개의 열(데이터세트의 변수에 해당하는 각 열 포함)이 있음을 의미합니다.</p> <p>그러나 데이터를 보는 더 나은 방법이 있습니다. 83개 행과 11개 변수를 모두 보려면 다음을 사용하십시오.:</p> <div class=highlight><pre><span></span><code><span class=nf>View</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
</code></pre></div> <p>일부 셀에는 적절한 값 대신 <code>NA</code> 값이 있음을 알 수 있습니다. <code>NA</code>는 사용할 수 없음을 나타내며 R에서 누락된 데이터를 지적하십시오. 이 경우 동물에 대한 값을 알 수 없음을 의미합니다.</p> <p>데이터를 포함하는 데이터 프레임에 대한 정보를 찾기 위해 몇 가지 유용한 기능은 다음과 같습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>head</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
<span class=nf>tail</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
<span class=nf>dim</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
<span class=nf>str</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
<span class=nf>names</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
</code></pre></div> <p><code>dim</code>은 데이터 프레임의 행과 열의 수를 반환하는 반면 <code>str</code>은 11개의 변수에 대한 정보를 반환합니다. 특히 중요한 것은 변수의 데이터 유형(이 경우 <code>chr</code> 및 <code>num</code>)으로, 어떤 종류의 데이터(숫자, 범주, 날짜 등)를 다루고 있는지 알려줍니다. @ref(datachapter) 장에서 데이터 유형에 대해 자세히 알아볼 것입니다. 마지막으로 <code>names</code>는 변수 이름을 포함하는 벡터를 반환합니다.</p> <p>함수와 마찬가지로 패키지와 함께 제공되는 데이터 세트에는 이를 설명하는 문서가 있습니다. <code>msleep</code>에 대한 문서는 데이터와 해당 변수에 대한 간단한 설명을 제공합니다. 변수에 대해 자세히 알아보려면 읽어보세요.:</p> <div class=highlight><pre><span></span><code><span class=o>?</span><span class=n>msleep</span>
</code></pre></div> <p>마지막으로 RStudio의 환경 패널에 있는 변수 중 <code>msleep</code>이 나열되지 않는다는 것을 알 수 있습니다. 거기에 포함하려면 다음을 실행할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>data</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
</code></pre></div> <h3 id=numerical-data>Numerical data</h3> <p>이제 각 변수가 무엇을 나타내는지 알았으므로 통계를 계산할 차례입니다. 각 변수에 대한 요약을 제공하는 설명 통계를 얻는 편리한 방법은 <code>summary</code> 기능을 사용하는 것입니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>summary</span><span class=p>(</span><span class=n>msleep</span><span class=p>)</span>
</code></pre></div> <p>텍스트 변수의 경우 현재 어떤 정보도 제공하지 않습니다. 그러나 수치 변수의 경우 유용한 정보를 많이 제공합니다. 예를 들어 <code>sleep_rem</code> 변수의 경우 다음과 같습니다.:</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class=n>sleep_rem</span><span class=w>  </span>
<span class=n>Min.</span><span class=w>   </span><span class=o>:</span><span class=m>0.100</span>
<span class=m>1</span><span class=n>st</span><span class=w> </span><span class=n>Qu.</span><span class=o>:</span><span class=m>0.900</span>
<span class=n>Median</span><span class=w> </span><span class=o>:</span><span class=m>1.500</span>
<span class=n>Mean</span><span class=w>   </span><span class=o>:</span><span class=m>1.875</span>
<span class=m>3</span><span class=n>rd</span><span class=w> </span><span class=n>Qu.</span><span class=o>:</span><span class=m>2.400</span>
<span class=n>Max.</span><span class=w>   </span><span class=o>:</span><span class=m>6.600</span>
<span class=kc>NA</span><span class=s>&#39;</span><span class=err>s   :22</span>
</code></pre></div> <p>이것은 <code>sleep_rem</code>의 평균이 <code>1.875</code>이고 가장 작은 값이 <code>0.100</code>이고 가장 큰 값이 <code>6.600</code>임을 알려줍니다. 제1사분위수[^8]는 ‘0.900’, 중앙값은 ‘1.500’, 3사분위수는 ’2.400’입니다. 마지막으로 값이 없는 22마리의 동물이 있습니다(누락된 데이터 - ’NA’로 표시됨).</p> <p>때로는 이들 중 하나만 계산하고 싶을 때도 있고 ’요약’에 포함되지 않은 요약 통계를 계산하기를 원할 수도 있습니다. <code>sleep_total</code> 변수에 대한 설명 통계를 계산하고 싶다고 가정해 보겠습니다. 데이터 프레임 내부의 벡터에 액세스하려면 달러 기호(<code>data_frame_name$vector_name</code>)를 사용합니다. 따라서 <code>msleep</code> 데이터 프레임의 <code>sleep_total</code> 벡터에 액세스하려면:</p> <div class=highlight><pre><span></span><code><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span>
</code></pre></div> <p>이 벡터에 대한 설명 통계를 계산하는 데 사용할 수 있는 함수의 몇 가지 예는 다음과 같습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>mean</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>      </span><span class=c1># Mean</span>
<span class=nf>median</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>    </span><span class=c1># Median</span>
<span class=nf>max</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>       </span><span class=c1># Max</span>
<span class=nf>min</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>       </span><span class=c1># Min</span>
<span class=nf>sd</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>        </span><span class=c1># Standard deviation</span>
<span class=nf>var</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>       </span><span class=c1># Variance</span>
<span class=nf>quantile</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span><span class=w>  </span><span class=c1># Various quantiles</span>
</code></pre></div> <p>하루에 8시간 이상 자는 동물의 수를 확인하려면 다음을 사용할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>sum</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=m>8</span><span class=p>)</span><span class=w>   </span><span class=c1># Frequency (count)</span>
<span class=nf>mean</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=m>8</span><span class=p>)</span><span class=w>  </span><span class=c1># Relative frequency (proportion)</span>
</code></pre></div> <p><code>msleep$sleep_total &gt; 8</code>은 각 동물의 총 수면 시간이 8보다 큰지 확인합니다. @ref(findingpoints) 섹션에서 이와 같은 표현으로 돌아갑니다.</p> <p>이제 동물의 REM 수면 시간 평균값을 계산해 보겠습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>mean</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>)</span>
</code></pre></div> <p>위의 호출은 ’NA’라는 답을 반환합니다. 그 이유는 <code>sleep_rem</code> 벡터에 <code>NA</code> 값이 있기 때문입니다(전에 본 것처럼 22개). 우리가 실제로 원했던 것은 우리가 REM 수면을 알고 있는 동물들 사이의 평균값이었습니다. 이것을 얻을 수 있는 방법이 있는지 알아보기 위해 <code>mean</code>에 대한 문서를 살펴볼 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=o>?</span><span class=n>mean</span>
</code></pre></div> <p>인수 <code>na.rm</code>은 유망해 보입니다. “계산이 진행되기 전에 NA 값을 제거해야 하는지 여부를 나타내는 논리 값”입니다. 즉, 평균을 계산할 때 ‘NA’ 값을 무시할지 여부를 R에 알려줍니다. 계산에서 <code>NA</code>:s를 무시하기 위해 함수 호출에서 <code>na.rm = TRUE</code>를 설정합니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>mean</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>,</span><span class=w> </span><span class=n>na.rm</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>TRUE</span><span class=p>)</span>
</code></pre></div> <p><code>NA</code> 값은 <code>msleep</code>에서 제거되지 않았습니다. ’na.rm = TRUE’로 설정하면 단순히 R이 특정 계산에서 이를 삭제하지 않고 무시하도록 지시합니다.</p> <p><code>sleep_total</code>과 <code>sleep_rem</code> 사이의 상관관계를 계산하려고 하면 동일한 문제에 직면하게 됩니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>cor</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>)</span>
</code></pre></div> <p>문서(<code>?cor</code>)를 간단히 살펴보면 <code>NA</code> 값을 무시하는 데 사용되는 인수가 <code>cor</code>에 대해 다른 이름을 가짐을 알 수 있습니다. <code>na.rm</code>이 아니라 <code>use</code>입니다. 나중에 한 번에 두 개 이상의 변수를 연구하면 그 이유가 분명해집니다. 지금은 <code>use = "complete.obs"</code>를 설정하여 완전한 데이터(즉, 누락된 값 없음)가 있는 관찰만 사용하여 상관 관계를 계산합니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>cor</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>,</span><span class=w> </span><span class=n>use</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;complete.obs&quot;</span><span class=p>)</span>
</code></pre></div> <h3 id=categorical-data>Categorical data</h3> <p><code>vore</code>(먹이 행동) 및 <code>conservation</code>(보존 상태)과 같은 일부 변수는 numerical이 아니라 categorical입니다. 따라서 평균이나 가장 큰 값을 계산하는 것은 의미가 없습니다. 범주형 변수(종종 R에서 factors라고 함)의 경우 <code>table</code>을 사용하여 다양한 범주의 빈도를 보여주는 테이블을 대신 만들 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>table</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>vore</span><span class=p>)</span>
</code></pre></div> <p>대신 다른 범주의 비율을 표시하기 위해 방금 만든 테이블에 <code>proportions</code>를 적용할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>proportions</span><span class=p>(</span><span class=nf>table</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>vore</span><span class=p>))</span>
</code></pre></div> <p><code>table</code> 함수는 두 범주형 변수의 다양한 조합에 대한 개수를 보여주는 교차 표를 구성하는 데에도 사용할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=c1># Counts:</span>
<span class=nf>table</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>vore</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>conservation</span><span class=p>)</span>

<span class=c1># Proportions, per row:</span>
<span class=nf>proportions</span><span class=p>(</span><span class=nf>table</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>vore</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>conservation</span><span class=p>),</span>
<span class=w>            </span><span class=n>margin</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>1</span><span class=p>)</span>

<span class=c1># Proportions, per column:</span>
<span class=nf>proportions</span><span class=p>(</span><span class=nf>table</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>vore</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>conservation</span><span class=p>),</span>
<span class=w>            </span><span class=n>margin</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>2</span><span class=p>)</span>
</code></pre></div> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>아직 로드하지 않은 경우 `library(ggplot2)`를 사용하여 `ggplot2`를 로드합니다. 그런 다음 다음을 수행합니다.

1. `다이아몬드` 데이터에 대한 문서를 보고 다양한 변수에 대해 읽어보십시오.

2. 데이터 구조를 확인합니다. 얼마나 많은 관측치와 변수가 있고 어떤 유형의 변수(숫자, 범주형 등)가 있습니까?

3. 요약 통계를 계산합니다(평균, 중앙값, 최소값, 최대값, 범주형 변수의 개수). 누락된 값이 있습니까?
</code></pre></div> <p><a href=#solutions1></a></p> <h2 id=plotting-numerical-data>Plotting numerical data</h2> <p>R로 플롯을 생성하는 방법에는 여러 가지가 있습니다. 이 책에서는 소위 그래픽의 문법을 사용하여 보기 좋은 플롯을 생성할 수 있는 <code>ggplot2</code> 패키지를 사용하여 플롯을 생성하는 데 주로 중점을 둘 것입니다. 그래픽의 문법은 그래픽 언어를 확립하는 데 도움이 되는 일련의 구조적 규칙입니다. 이것의 장점은 (거의) 모든 플롯이 모두 동일한 논리 또는 문법을 따르는 함수로 생성된다는 것입니다. 그렇게 하면 각각의 새로운 플롯에 대해 새로운 인수를 배울 필요가 없습니다. 이것을 기술 통계를 계산할 때 <code>NA</code> 값을 무시하려고 할 때 발생한 문제와 비교할 수 있습니다. <code>mean</code>에는 <code>na.rm</code> 인수가 필요한 반면 <code>cor</code>에는 <code>use</code> 인수가 필요합니다. 모든 플롯에 공통 문법을 사용함으로써 학습해야 하는 인수의 수를 줄입니다.</p> <p>그래픽 플롯의 문법에 대한 세 가지 주요 구성 요소는 다음과 같습니다.:</p> <ul> <li><strong>데이터</strong>: 데이터 세트의 관찰,</li> <li><strong>미학</strong>: 데이터에서 시각적 속성(예: 기하학적 개체의 축 및 크기)으로 매핑</li> <li><strong>기하학</strong>: 기하학적 객체, 예. 플롯에 표시되는 것을 나타내는 선.</li> </ul> <p><code>ggplot2</code>를 사용하여 플롯을 만들 때 사용할 데이터, 미학 및 기하학을 정의해야 합니다. 조금 이상하게 들린다면 몇 가지 예를 살펴보면 훨씬 더 명확해질 것입니다. 먼저 <code>msleep</code> 데이터의 일부 연속 변수를 시각화하여 이것이 어떻게 작동하는지 설명합니다.</p> <h3 id=our-first-plot>Our first plot</h3> <p>첫 번째 예로, 동물의 총 수면 시간과 동물의 REM 수면 시간을 플로팅하여 산점도를 만들어 봅시다.</p> <p>기본 R을 사용하여 우리는 예를 들어 다음을 사용하는 방법과 유사한 방식으로 단순히 <code>plot</code> 함수를 호출합니다. `<code>cor</code>:</p> <div class=highlight><pre><span></span><code><span class=nf>plot</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>)</span>
</code></pre></div> <p><code>ggplot2</code>를 사용하여 이 작업을 수행하는 코드는 더 장황합니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>library</span><span class=p>(</span><span class=n>ggplot2</span><span class=p>)</span>
<span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nf>geom_point</span><span class=p>()</span>
</code></pre></div> <p><img src=../02-basics_K_files/figure-gfm/unnamed-chunk-58-1.png alt="A scatterplot of mammal sleeping times." style="display: block; margin: auto;"></p> <p>코드는 세 부분으로 구성됩니다.</p> <ul> <li><strong>데이터</strong>: <code>ggplot</code>: <code>msleep</code>에 대한 호출의 첫 번째 인수에 의해 제공됩니다.</li> <li><strong>미학</strong>: <code>ggplot</code> 호출의 두 번째 인수인 <code>aes</code>에 의해 제공됩니다. 여기서 <code>sleep_total</code>은 x축에, <code>sleep_rem</code>은 y축에 매핑됩니다.</li> <li><strong>Geoms</strong>: <code>geom_point</code>로 제공되며 관측치가 포인트로 표시됨을 의미합니다.</li> </ul> <p>이 시점에서 당신은 지구상에서 누군가가 플롯을 생성하기 위해 <code>ggplot2</code> 코드를 사용하기를 원하는 이유를 물을 수 있습니다. 유효한 질문입니다. 기본 R 코드는 더 단순해 보이고 우리가 본 다른 기능과 일치합니다. <code>ggplot2</code> 코드가… 다르게 보입니다. 이는 그래픽의 grammar를 사용하기 때문입니다. 그래픽은 여러 면에서 R로 작업하는 방식과 달리 고유한 언어입니다.</p> <p>하지만 <code>ggplot2</code>를 사용하여 만든 플롯도 다르게 보였습니다. 포인트를 플로팅하기 위해 빈 원 대신 채워진 원을 사용했으며 배경에 그리드가 있습니다. 기본 R 그래픽과 <code>ggplot2</code> 모두에서 이러한 설정 및 기타 많은 설정을 변경할 수 있습니다. <code>pch</code> 인수와 <code>grid</code> 함수를 사용하여 다음과 같이 기본 R을 사용하여 <code>ggplot2</code> 플롯과 유사한 것을 만들 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>plot</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>,</span><span class=w> </span><span class=n>pch</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>16</span><span class=p>)</span>
<span class=nf>grid</span><span class=p>()</span>
</code></pre></div> <p>어떤 사람들은 기본 R 플롯의 모양과 구문을 선호하는 반면, 다른 사람들은 <code>ggplot2</code> 그래픽이 기본 모양이 더 예쁘다고 주장합니다. 나는 두 집단 모두에 공감할 수 있다. 일부 유형의 플롯은 기본 R을 사용하여 생성하기 쉽고 일부는 ggplot2를 사용하여 생성하기가 더 쉽습니다. 나는 기본 R 그래픽의 단순함을 좋아하고, 다양한 구성 요소를 결합하려는 보다 정교한 그래프뿐만 아니라 신속하고 직관적인 시각화를 위해 선호합니다. 데이터 세트를 탐색하고 이해하기 위해 그래픽을 사용하는 탐색적 데이터 분석을 포함하여 그 사이의 모든 것에 대해서는 <code>ggplot2</code>를 선호합니다. 이 책에서는 빠르고 간단한 플롯에 기본 그래픽을 사용하지만 <code>ggplot2</code>와 이를 사용하여 데이터를 탐색하는 방법에 더 중점을 둡니다.</p> <p><code>ggplot2</code> 산점도를 만드는 데 사용된 구문은 본질적으로 <code>ggplot(data, aes) + geom</code>이었습니다. ’ggplot2’를 사용하여 생성된 모든 플롯은 산점도, 막대 차트 또는 다른 것이든 상관없이 이 패턴을 따릅니다. <code>ggplot(data, aes) + geom</code>의 더하기 기호는 플롯에 더 많은 기하학(예: 추세선 및 기타 항목)을 추가할 수 있음을 의미하므로 중요합니다. 우리는 곧 그것에 대해 돌아갈 것입니다.</p> <p>사용자가 달리 지정하지 않는 한 <code>aes</code>에 대한 처음 두 인수는 항상 <code>x</code> 및 <code>y</code> 축에 매핑됩니다. 즉, <code>x =</code> 및 <code>y =</code> 비트를 제거하여 위의 코드를 단순화할 수 있습니다. (가독성이 약간 떨어지는 대신). 또한 <code>+</code> 기호 뒤에 줄 바꿈을 삽입하는 것이 좋은 스타일로 간주됩니다. 결과 코드는:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span>
</code></pre></div> <p>이것은 어떤 식으로든 플롯을 변경하지 않는다는 점에 유의하십시오. 차이점은 단지 코드 스타일에 있습니다.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>Create a scatterplot with total sleeping time along the x-axis and time 

awake along the y-axis (using the `msleep` data). 

What pattern do you see? Can you explain it?
</code></pre></div> <p><a href=#solutions2></a></p> <h3 id=colours-shapes-and-axis-labels>Colours, shapes and axis labels</h3> <p>이제 산점도를 만드는 방법을 알았지만 플롯을 다른 사람에게 보여줄 계획이라면 몇 가지 변경해야 할 사항이 있을 수 있습니다. 예를 들어 일반적으로 x축의 레이블을 변수 이름 “sleep_total”에서 “총 수면 시간(h)”과 같은 이름으로 변경하는 것이 좋습니다. 이것은 <code>+</code> 기호를 다시 사용하여 플롯에 <code>xlab</code>에 대한 호출을 추가하여 수행됩니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Total sleep time (h)&quot;</span><span class=p>)</span>
</code></pre></div> <p>더하기 기호는 행의 시작 부분이 아닌 행의 끝에 위치해야 합니다. y축 레이블을 변경하려면 대신 <code>ylab</code>을 추가하십시오.</p> <p>점의 색상을 변경하려면 <code>geom_point</code>에서 색상을 설정할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>(</span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;red&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Total sleep time (h)&quot;</span><span class=p>)</span>
</code></pre></div> <p>“빨간색” 외에도 선택할 수 있는 몇 가지 색상이 더 있습니다. 콘솔의 에서 <code>colors()</code>를 실행하여 R에 이름이 있는 657개의 색상 목록을 볼 수 있습니다(예: <code>"papayawhip"</code>, <code>"blanchedalmond"</code>, 및 <code>"cornsilk4"</code>) 또는 <code>"#FF5733"</code>과 같은 색상 16진수 코드를 사용합니다.</p> <p>또는 점의 색상을 사용하여 서로 다른 범주를 구분할 수 있습니다. 이제 데이터 변수를 시각적 속성에 매핑하고 있으므로 <code>aes</code>에 <code>color</code> 인수를 추가하면 됩니다. 예를 들어 변수 ’vore’를 사용하여 초식동물, 육식동물, 잡식동물의 차이점을 표시할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>,</span><span class=w> </span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Total sleep time (h)&quot;</span><span class=p>)</span>
</code></pre></div> <p>색상을 설정하기 위해 수면 주기 길이 <code>sleep_cycle</code>과 같은 연속 변수를 사용하면 어떻게 될까요?</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>,</span><span class=w> </span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>sleep_cycle</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Total sleep time (h)&quot;</span><span class=p>)</span>
</code></pre></div> <p>섹션에서 플롯의 색상(및 기타 부분)을 사용자 지정하는 방법에 대해 자세히 알아봅니다. @ref(themes).</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>`다이아몬드` 데이터를 사용하여 다음을 수행합니다.

1. x축에 캐럿이 있고 y축에 가격이 있는 산점도를 만듭니다. 

X축 레이블을 &quot;다이아몬드 무게(캐럿)&quot;로 변경하고 Y축 레이블을 &quot;가격(USD)&quot;으로 변경합니다. 

`컷`을 사용하여 점의 색상을 설정합니다.

2. `alpha = 1` 인수를 `geom_point`에 추가해 보십시오. 

즉, `geom_point(alpha = 1)`. 아무 일도 일어나지 않습니까? 

`1`을 `0.5` 및 `0.25`로 변경하고 플롯에 어떤 영향을 미치는지

확인하십시오.\index{\texttt{aes}!\texttt{alpha}}
</code></pre></div> <p><a href=#solutions3></a></p> <p><br></p> <div class=highlight><pre><span></span><code>점의 색상을 변경한 것과 마찬가지로 크기와 모양도 변경할 수 있습니다. 이에 대한 인수는 `size` 및 `shape`입니다.

1. 연습문제 \@ref(exr:ch2exc3)의 산점도를 변경하여 절단 품질이 다른 다이아몬드가 다른 모양으로 표시되도록 합니다.

2. 그런 다음 각 포인트의 크기가 다이아몬드의 길이, 즉 변수 `x`에 의해 결정되도록 변경합니다.
</code></pre></div> <p><a href=#solutions4></a></p> <h3 id=axis-limits-and-scales>Axis limits and scales</h3> <p>다음으로 동물의 뇌 크기와 총 수면 시간 사이의 관계를 연구하고 싶다고 가정합니다. 다음을 사용하여 산점도를 생성합니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>brainwt</span><span class=p>,</span><span class=w> </span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Brain weight&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>ylab</span><span class=p>(</span><span class=s>&quot;Total sleep time&quot;</span><span class=p>)</span>
</code></pre></div> <p>나머지보다 훨씬 무거운 뇌를 가진 두 마리의 동물이 있습니다(아프리카 코끼리와 아시아 코끼리). 이러한 이상값은 플롯을 왜곡하여 패턴을 찾기 어렵게 만듭니다. 플롯에 <code>xlim</code>을 추가하여 x축을 0에서 1.5로만 변경하여 개선되는지 확인할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>brainwt</span><span class=p>,</span><span class=w> </span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Brain weight&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>ylab</span><span class=p>(</span><span class=s>&quot;Total sleep time&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlim</span><span class=p>(</span><span class=m>0</span><span class=p>,</span><span class=w> </span><span class=m>1.5</span><span class=p>)</span>
</code></pre></div> <p>이것은 약간 더 낫지만 여전히 y축 근처에 많은 점이 모여 있고 이제 일부 동물이 플롯에서 누락되었습니다. 대신 y축의 한계를 변경하려면 같은 방식으로 <code>ylim</code>을 사용했을 것입니다.</p> <p>또 다른 옵션은 ’aes’에서 직접 수행할 수 있는 뇌 가중치에 로그 변환을 적용하여 x축을 재조정하는 것입니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=nf>log</span><span class=p>(</span><span class=n>brainwt</span><span class=p>),</span><span class=w> </span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;log(Brain weight)&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>ylab</span><span class=p>(</span><span class=s>&quot;Total sleep time&quot;</span><span class=p>)</span>
</code></pre></div> <p>이것은 약한 감소 추세를 보이는 더 보기 좋은 산점도입니다. 이를 만들기 위해 이상값(the elephants)을 제거할 필요가 없었습니다. 단점은 이제 x축을 해석하기 어려워졌다는 것입니다. 이를 완화하는 세 번째 옵션은 플롯에 <code>scale_x_log10</code>을 추가하여 x축의 스케일을 <span class=arithmatex><span class=MathJax_Preview>\log_{10}</span><script type=math/tex>\log_{10}</script></span> 스케일로 변경하는 것입니다. 원래 x-스케일).</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>brainwt</span><span class=p>,</span><span class=w> </span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Brain weight (logarithmic scale)&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>ylab</span><span class=p>(</span><span class=s>&quot;Total sleep time&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>scale_x_log10</span><span class=p>()</span>
</code></pre></div> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>&#39;msleep&#39; 데이터를 사용하여 로그 변환된 체중 대 로그 변환된 뇌 무게의 플롯을 만듭니다. 

총 수면 시간을 사용하여 포인트의 색상을 설정합니다. 

축의 텍스트를 유익한 것으로 변경하십시오.
</code></pre></div> <p><a href=#solutions5></a></p> <h3 id=comparing-groups>Comparing groups</h3> <p>우리는 종종 서로 다른 그룹을 시각적으로 비교하고자 합니다. 플롯에서 그룹 간의 차이를 표시하는 한 가지 방법은 facetting을 사용하는 것입니다. 즉, 다른 그룹에 해당하는 플롯 그리드를 만드는 것입니다. 예를 들어, 동물의 뇌 무게와 총 수면 시간의 플롯에서 다양한 색상 포인트 대신 패싯을 사용하여 <code>msleep</code> 데이터에서 다양한 섭식 행동(잡식 동물, 육식 동물 등)을 분리할 수 있습니다. <code>ggplot2</code>에서 플롯에 <code>facet_wrap</code>에 대한 호출을 추가하여 이를 수행합니다.:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>brainwt</span><span class=p>,</span><span class=w> </span><span class=n>sleep_total</span><span class=p>))</span><span class=w> </span><span class=o>+</span><span class=w> </span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;Brain weight (logarithmic scale)&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>ylab</span><span class=p>(</span><span class=s>&quot;Total sleep time&quot;</span><span class=p>)</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>scale_x_log10</span><span class=p>()</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>facet_wrap</span><span class=p>(</span><span class=o>~</span><span class=w> </span><span class=n>vore</span><span class=p>)</span>
</code></pre></div> <p>그리드에 있는 다른 플롯의 x축과 y축은 모두 동일한 스케일과 한계를 가집니다.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>`다이아몬드` 데이터를 사용하여 다음을 수행합니다.

1. x축에 &#39;캐럿&#39;이 있고 y축에 &#39;가격&#39;이 있는 산점도를 만들고 &#39;컷&#39;으로 패싯 처리합니다.

2. `facet_wrap`(`?facet_wrap`)에 대한 문서를 읽으십시오. 

플롯 그리드의 행 수를 어떻게 변경할 수 있습니까? 

파트 1과 동일한 플롯을 생성하지만 행이 5개입니다.
</code></pre></div> <p><a href=#solutions6></a></p> <h3 id=boxplots>Boxplots</h3> <p>그룹을 비교하는 또 다른 옵션은 boxplot(box-and-whiskers plot이라고도 함)입니다. <code>ggplot2</code>를 사용하여 <code>geom_boxplot</code>을 사용하여 먹이 행동으로 그룹화된 동물의 수면 시간에 대한 상자 그림을 만듭니다. 기본 R을 사용하여 <code>boxplot</code>을 사용합니다. function instead:</p> <div class=highlight><pre><span></span><code><span class=c1># Base R:</span>
<span class=nf>boxplot</span><span class=p>(</span><span class=n>sleep_total</span><span class=w> </span><span class=o>~</span><span class=w> </span><span class=n>vore</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>msleep</span><span class=p>)</span>

<span class=c1># ggplot2:</span>
<span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>vore</span><span class=p>,</span><span class=w> </span><span class=n>sleep_total</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_boxplot</span><span class=p>()</span>
</code></pre></div> <p><img src=../02-basics_K_files/figure-gfm/unnamed-chunk-71-1.png alt="Boxplots showing mammal sleeping times." style="display: block; margin: auto;"></p> <p>상자는 <code>summary</code>를 사용하여 얻은 것과 유사하게 다른 그룹에 대한 중요한 설명 통계를 시각화합니다.</p> <ul> <li>Median: 상자 내부의 두꺼운 검정색 선.</li> <li>제1사분위수: 상자의 바닥.</li> <li>제3사분위수: 상자의 상단.</li> <li>Minimum: 상자 바닥에서 연장되는 선(“수염”)의 끝.</li> <li>Maximum: 박스 상단에서 연장되는 라인의 끝.</li> <li>Outliers: 너무 많이 벗어나는 관측치[^9] 나머지에서 별도의 점으로 표시됩니다. 이러한 이상값은 중앙값, 사분위수 및 극단값 계산에 포함되지 않습니다.</li> </ul> <p>산점도와 마찬가지로 코드는 세 부분으로 구성됩니다.</p> <ul> <li><strong>데이터</strong>: <code>ggplot</code>: <code>msleep</code>에 대한 호출의 첫 번째 인수에 의해 제공됩니다.</li> <li><strong>미학</strong>: <code>ggplot</code> 호출의 두 번째 인수인 <code>aes</code>에서 제공되며 여기서 그룹 변수 <code>vore</code>를 x축에 매핑하고 숫자 변수 <code>sleep_total</code>을 y축에 매핑합니다.</li> <li><strong>Geoms</strong>: <code>geom_boxplot</code>에 의해 제공되며 데이터가 상자 그림으로 시각화됨을 의미합니다.</li> </ul> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>`다이아몬드` 데이터를 사용하여 다음을 수행합니다.

1. &#39;cut&#39;으로 그룹화된 다이아몬드 가격의 상자 그림을 만듭니다.

2. `geom_boxplot`에 대한 문서를 읽으십시오. 상자의 색상과 윤곽선을 어떻게 변경할 수 있습니까?

3. 플롯의 미학에서 \index{\texttt{reorder}} `reorder(cut, price, median)`로 `cut`을 교체합니다. 재정렬은 무엇을 합니까? 결과는 무엇입니까?

4. `geom_jitter(size = 0.1, alpha = 0.2)`를 \index{\texttt{geom\_jitter}} 플롯에 추가합니다. 무슨 일이야?
</code></pre></div> <p><a href=#solutions7></a></p> <h3 id=histograms>Histograms</h3> <p>연속 변수의 분포를 표시하기 위해 히스토그램을 사용할 수 있습니다. 이 히스토그램에서는 데이터가 여러 빈으로 분할되고 각 빈의 관측값 수가 막대로 표시됩니다. 히스토그램에 대한 <code>ggplot2</code> 코드는 다른 플롯과 동일한 패턴을 따르는 반면 기본 R 코드는 <code>hist</code> 함수를 사용합니다.:</p> <div class=highlight><pre><span></span><code><span class=c1># Base R:</span>
<span class=nf>hist</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>)</span>

<span class=c1># ggplot2:</span>
<span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_histogram</span><span class=p>()</span>
</code></pre></div> <p><img src=../02-basics_K_files/figure-gfm/unnamed-chunk-73-1.png alt="A histogram for mammal sleeping times." style="display: block; margin: auto;"></p> <p>이전과 마찬가지로 <code>ggplot2</code> 코드의 세 부분은 다음과 같습니다.</p> <ul> <li><strong>데이터</strong>: <code>ggplot</code>: <code>msleep</code>에 대한 호출의 첫 번째 인수에 의해 제공됩니다.</li> <li><strong>미학</strong>: <code>ggplot</code> 호출의 두 번째 인수인 <code>aes</code>에서 제공되며 여기서 <code>sleep_total</code>을 x축에 매핑합니다.</li> <li><strong>기하학</strong>: <code>geom_histogram</code>으로 제공되며 데이터가 히스토그램으로 시각화됨을 의미합니다.</li> </ul> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>`다이아몬드` 데이터를 사용하여 다음을 수행합니다.

1. 다이아몬드 가격의 히스토그램을 만듭니다.

2. 패싯을 사용하여 다양한 컷에 대한 다이아몬드 가격의 히스토그램을 생성합니다.

3. `geom_histogram`에 적절한 인수를 추가하여 막대 주위에 검은 윤곽선을 추가합니다

^[개인적으로 윤곽선 없이 히스토그램을 그리는 사람이 왜 있는지 모르겠습니다!].
</code></pre></div> <p><a href=#solutions8></a></p> <h2 id=plotting-categorical-data>Plotting categorical data</h2> <p>범주형 데이터를 시각화할 때 일반적으로 각 범주에 대한 개수, 즉 관찰 수를 표시하려고 합니다. 이 유형의 데이터에 대한 가장 일반적인 플롯은 막대 차트입니다.</p> <h3 id=bar-charts>Bar charts</h3> <p>막대 차트는 범주 개수가 막대로 표시되는 히스토그램의 개별 아날로그입니다. 생성 코드는 다음과 같습니다.:</p> <div class=highlight><pre><span></span><code><span class=c1># Base R</span>
<span class=nf>barplot</span><span class=p>(</span><span class=nf>table</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>vore</span><span class=p>))</span>

<span class=c1># ggplot2</span>
<span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_bar</span><span class=p>()</span>
</code></pre></div> <p><img src=../02-basics_K_files/figure-gfm/unnamed-chunk-75-1.png alt="A bar chart for the mammal sleep data." style="display: block; margin: auto;"></p> <p>항상 그렇듯이 <code>ggplot2</code> 코드의 세 부분은 다음과 같습니다.</p> <ul> <li><strong>데이터</strong>: <code>ggplot</code>: <code>msleep</code>에 대한 호출의 첫 번째 인수에 의해 제공됩니다.</li> <li><strong>미학</strong>: <code>ggplot</code> 호출의 두 번째 인수인 <code>aes</code>에서 제공되며 여기서 <code>vore</code>를 x축에 매핑합니다.</li> <li><strong>Geoms</strong>: <code>geom_bar</code>로 제공되며 데이터가 막대 차트로 시각화됨을 의미합니다.</li> </ul> <p><code>ggplot2</code>를 사용하여 누적 막대 차트를 만들려면 모든 그룹을 x축의 동일한 값에 매핑한 다음 다른 그룹을 다른 색상에 매핑합니다. 이것은 다음과 같이 할 수 있습니다:</p> <div class=highlight><pre><span></span><code><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=nf>factor</span><span class=p>(</span><span class=m>1</span><span class=p>),</span><span class=w> </span><span class=n>fill</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vore</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_bar</span><span class=p>()</span>
</code></pre></div> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>`다이아몬드` 데이터를 사용하여 다음을 수행합니다.

1. 다이아몬드 컷의 막대 차트를 만듭니다.

2. `geom_bar`에 `fill` 인수를 추가하여 막대에 다른 색상을 추가합니다.

3. `geom_bar`에 대한 설명서를 확인하십시오. 

막대의 너비를 어떻게 줄일 수 있습니까?

4. 1부에서 사용한 코드로 돌아갑니다. `aes`에 `fill =clarity`를 추가합니다. 

어떻게 되나요?\index{\texttt{aes}!\texttt{fill}}

5. 다음으로 `position = &quot;dodge&quot;`를 `geom_bar`에 추가합니다. 무슨 일이야?

6. 1부에서 사용한 코드로 돌아갑니다. 플롯에 `coord_flip()`을 추가합니다. 

무슨 일이야?\index{\texttt{coord\_flip}}
</code></pre></div> <p><a href=#solutions9></a></p> <h2 id=saving-your-plot>Saving your plot</h2> <p><code>ggplot2</code> 플롯을 생성하면 R에서 플롯 객체로 저장할 수 있습니다.</p> <div class=highlight><pre><span></span><code><span class=nf>library</span><span class=p>(</span><span class=n>ggplot2</span><span class=p>)</span>
<span class=n>myPlot</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>ggplot</span><span class=p>(</span><span class=n>msleep</span><span class=p>,</span><span class=w> </span><span class=nf>aes</span><span class=p>(</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>sleep_rem</span><span class=p>))</span><span class=w> </span><span class=o>+</span>
<span class=w>      </span><span class=nf>geom_point</span><span class=p>()</span>
</code></pre></div> <p>저장된 플롯 객체를 플롯하려면 해당 이름을 쓰기만 하면 됩니다.:</p> <div class=highlight><pre><span></span><code><span class=n>myPlot</span>
</code></pre></div> <p>원하는 경우 이전과 마찬가지로 플롯에 항목을 추가할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>myPlot</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nf>xlab</span><span class=p>(</span><span class=s>&quot;I forgot to add a label!&quot;</span><span class=p>)</span>
</code></pre></div> <p>플롯 개체를 이미지 파일로 저장하려면 <code>ggsave</code>를 사용하십시오. <code>width</code> 및 <code>height</code> 인수를 사용하면 그림의 크기를 제어할 수 있습니다(‘units’ 인수를 사용하여 달리 지정하지 않는 한 인치 단위).</p> <div class=highlight><pre><span></span><code><span class=nf>ggsave</span><span class=p>(</span><span class=s>&quot;filename.pdf&quot;</span><span class=p>,</span><span class=w> </span><span class=n>myPlot</span><span class=p>,</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>5</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>5</span><span class=p>)</span>
</code></pre></div> <p>플롯 개체의 이름을 제공하지 않으면 <code>ggsave</code>는 사용자가 만든 마지막 <code>ggplot2</code> 플롯을 저장합니다.</p> <p>pdf 외에도 이미지를 저장할 수 있습니다. 파일 이름에서 파일 확장자를 변경하기만 하면 jpg, tif, eps, svg 및 png 파일로 변환할 수 있습니다. 또는 기본 R 및 <code>ggplot2</code>의 그래픽은 <code>pdf</code> 및 <code>png</code> 기능을 사용하여 <code>dev.off</code>사용하여 저장할 수 있습니다. 파일의 끝을 표시하는 index{}:</p> <div class=highlight><pre><span></span><code><span class=nf>pdf</span><span class=p>(</span><span class=s>&quot;filename.pdf&quot;</span><span class=p>,</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>5</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>5</span><span class=p>)</span>
<span class=n>myPlot</span>
<span class=nf>dev.off</span><span class=p>()</span>

<span class=nf>png</span><span class=p>(</span><span class=s>&quot;filename.png&quot;</span><span class=p>,</span><span class=w> </span><span class=n>width</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>500</span><span class=p>,</span><span class=w> </span><span class=n>height</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>500</span><span class=p>)</span>
<span class=nf>plot</span><span class=p>(</span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_total</span><span class=p>,</span><span class=w> </span><span class=n>msleep</span><span class=o>$</span><span class=n>sleep_rem</span><span class=p>)</span>
<span class=nf>dev.off</span><span class=p>()</span>
</code></pre></div> <p>RStudio의 플롯 패널에서 내보내기 버튼을 클릭하여 그래픽을 저장할 수도 있습니다. 재현성 때문에 코드를 사용하여 플롯을 저장하는 것이 일반적으로 더 좋습니다. 어느 시점에서 돌아가서 이전 그림을 변경하고 싶을 수 있으며 그래픽을 내보낼 코드가 이미 있는 경우 훨씬 더 쉬울 것입니다.</p> <div class=arithmatex> <div class=MathJax_Preview>\sim</div> <script type="math/tex; mode=display">\sim</script> </div> <div class=highlight><pre><span></span><code>다음을 수행하십시오.

1. 플롯 개체를 만들고 4 x 4인치 png 파일로 저장합니다.

2. 인쇄할 이미지를 준비할 때 해상도를 높이고 싶을 수 있습니다. 

`ggsave`에 대한 설명서를 확인하십시오. 

png 파일의 해상도를 600dpi로 어떻게 높일 수 있습니까?
</code></pre></div> <p><a href=#solutions10></a></p> <p>You’ve now had a first taste of graphics using R. We have however only scratched the surface, and will return to the many uses of statistical graphics in Chapter @ref(eda).</p> <h2 id=troubleshooting>Troubleshooting</h2> <p>때때로 R은 오류 메시지를 표시합니다. 경우에 따라 이 경우와 같이 유익하고 유용할 수 있습니다.:</p> <div class=highlight><pre><span></span><code><span class=n>age</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=nf>c</span><span class=p>(</span><span class=m>28</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>47</span><span class=p>,</span><span class=w> </span><span class=m>71</span><span class=p>,</span><span class=w> </span><span class=m>22</span><span class=p>,</span><span class=w> </span><span class=m>80</span><span class=p>,</span><span class=w> </span><span class=m>48</span><span class=p>,</span><span class=w> </span><span class=m>30</span><span class=p>,</span><span class=w> </span><span class=m>31</span><span class=p>)</span>
<span class=nf>means</span><span class=p>(</span><span class=n>age</span><span class=p>)</span>
</code></pre></div> <p>where R prints:</p> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=w> </span><span class=nf>means</span><span class=p>(</span><span class=n>age</span><span class=p>)</span>
<span class=n>Error</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=nf>means</span><span class=p>(</span><span class=n>age</span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>could</span><span class=w> </span><span class=n>not</span><span class=w> </span><span class=n>find</span><span class=w> </span><span class=n>function</span><span class=w> </span><span class=s>&quot;means&quot;</span>
</code></pre></div> <p>이것은 우리가 사용하려는 함수인 <code>means</code>가 존재하지 않는다는 것을 알려줍니다. 여기에는 두 가지 가능한 이유가 있습니다. 함수가 있는 패키지를 로드하지 않았거나 함수 이름을 잘못 입력했기 때문입니다. 우리의 예에서 후자는 사실입니다. 우리가 정말로 사용하고 싶었던 함수는 물론 ’means’가 아니라 ’mean’이었습니다.</p> <p>다른 경우에는 다음 예제와 같이 오류 메시지를 해석하는 것이 불가능해 보입니다.:</p> <div class=highlight><pre><span></span><code><span class=n>Error</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=nf>if </span><span class=p>(</span><span class=nf>str_count</span><span class=p>(</span><span class=n>string</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>f</span><span class=p>[[</span><span class=n>j</span><span class=p>]],</span><span class=w> </span><span class=n>pattern</span><span class=w> </span><span class=o>=</span><span class=w> </span>\<span class=s>&quot;</span><span class=err>\\\\S+\</span><span class=s>&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=m>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=o>:</span>
<span class=w>  </span>\<span class=n>n</span><span class=w>  </span><span class=n>argument</span><span class=w> </span><span class=n>is</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=n>length</span><span class=w> </span><span class=n>zero</span>
</code></pre></div> <p>and</p> <div class=highlight><pre><span></span><code><span class=n>Error</span><span class=w> </span><span class=n>in</span><span class=w> </span><span class=nf>if </span><span class=p>(</span><span class=n>requir</span><span class=p>[</span><span class=n>y</span><span class=p>]</span><span class=w> </span><span class=o>&amp;</span><span class=n>gt</span><span class=p>;</span><span class=w> </span><span class=n>supply</span><span class=p>[</span><span class=n>x</span><span class=p>])</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=o>:</span><span class=w> </span>\<span class=n>nmissing</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=n>where</span>
<span class=w>  </span><span class=kc>TRUE</span><span class=o>/</span><span class=kc>FALSE</span><span class=w> </span><span class=n>needed</span>
</code></pre></div> <p>오류 메시지가 표시되면 다음 단계를 따르는 것이 좋습니다.</p> <ol> <li> <p>오류 메시지를 주의 깊게 읽고 해독해 보십시오. 전에 본 적이 있습니까? 특정 변수나 함수를 가리키는가? R의 일반적인 오류 메시지를 다루는 이 책의 @ref(commonerrors) 섹션을 확인하십시오.</p> </li> <li> <p>코드를 확인하십시오. 변수나 함수 이름을 잘못 입력했습니까? 누락된 괄호, 이상한 쉼표 또는 유효하지 않은 문자가 있습니까?</p> </li> <li> <p>오류 메시지를 복사하고 메시지를 검색어로 사용하여 웹 검색을 수행합니다. 다른 사람이 같은 문제를 겪었을 가능성이 높으며 온라인에서 해결책을 찾을 수 있습니다. 이것은 문제에 대한 해결책을 찾는 훌륭한 지름길입니다. 사실, <strong>이것은 이 책 전체에서 가장 중요한 단 하나의 팁일 것입니다.</strong></p> </li> <li> <p>오류 메시지를 유발하는 함수에 대한 설명서를 읽고 사용 방법에 대한 몇 가지 예를 살펴보십시오(문서 및 온라인(예: 블로그 게시물)). 올바르게 사용하셨습니까?</p> </li> <li> <p>장@ref(errorchapter)에 제시된 디버깅 도구를 사용하거나 작업 중인 예제를 단순화하고(예: 분석 또는 데이터의 일부 제거) 문제가 제거되는지 확인하십시오.</p> </li> <li> <p>여전히 해결책을 찾을 수 없는 경우 <a href=https://stackoverflow.com/ >Stack Overflow</a> 또는 <a href=https://community.rstudio.com>RStudio 커뮤니티 포럼</a>과 같은 사이트에 질문을 게시하세요. /). 코드를 게시하고 오류 메시지가 나타나는 컨텍스트를 설명하십시오. 가능하다면 재현 가능한 예, 즉 다른 사람이 실행할 수 있는 오류 메시지를 일으키는 코드 조각을 게시하십시오. 이렇게 하면 다른 사람들이 당신을 더 쉽게 도울 수 있습니다.</p> </li> </ol> <p>[^1]: 버전 번호 외에도 R의 각 릴리스에는 Charles Schulz의 Peanuts 만화를 참조하는 별명이 있습니다. R 4.1.0의 “Camp Pontanezen” 별명은 1986년 2월 12일의 Peanuts 만화를 참조한 것입니다.</p> <p>[^2]: 조작이라는 단어는 다른 의미를 가지고 있습니다. 확실히 하자면, 내가 이 책에서 데이터 조작에 대해 말할 때마다, 나는 데이터를 변조하는 것이 아니라 데이터를 다루고 변환하는 것을 의미할 것입니다.</p> <p>[^3]: I.e. 콘솔 패널이 활성화되고 그 안에 깜박이는 텍스트 커서가 표시될 때.</p> <p>[^4]: If you are used to programming languages like C or Java, you should note that R is dynamically typed, meaning that the data type of an R variable also can change over time. This also means that there is no need to declare variable types in R (which is either liberating or terrifying, depending on what type of programmer you are).</p> <p>[^5]: RStudio에서 키보드 단축키 Alt+-를 사용하여 할당 연산자 <code>&lt;-</code>를 만들 수도 있습니다(즉, Alt와 - 버튼을 동시에 누름).</p> <p>[^6]: 특히, 마침표는 객체 지향 프로그래밍에서 메서드와 클래스를 구분하는 데 사용되며, 이는 R에서 매우 중요합니다(이를 깨닫지 못한 채 몇 년 동안 R을 사용할 수 있지만).</p> <p>[^7]: 이미 명확하지 않은 경우를 대비하여 <code>snake_case</code> 또는 <code>camelCase</code>를 권장합니다.</p> <p>[^8]: 제1사분위수는 관측값의 25%가 이보다 작은 값입니다. 3사분위수는 관측값의 25%가 그것보다 큰 값입니다.</p> <p>[^9]: 이 경우 too much는 상자의 가장자리에서 상자 높이의 1.5배 이상 떨어진 것을 의미합니다.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2023 <a href=https://github.com/datatellme target=_blank rel=noopener>Data Tell Me</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.ba449ae6.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>